!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wjplayer",[],t):"object"==typeof exports?exports.wjplayer=t():e.wjplayer=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),r(1),r(116);var i=r(115),o=n(i);t["default"]=o["default"],e.exports=t["default"]},function(e,t,r){"use strict";r(2),r(108),r(109),r(110),r(111),r(112)},function(e,t,r){(function(t){e.exports=t.videojs=r(3)}).call(t,function(){return this}())},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=void 0;if(t=t||{},"string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&U["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&o.getPlayers()[e].ready(r),o.getPlayers()[e];n=H.getEl(e)}else n=e;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(n.player||w["default"].players[n.playerId])return n.player||w["default"].players[n.playerId];o.hooks("beforesetup").forEach(function(e){var r=e(n,(0,O["default"])(t));return!(0,K.isObject)(r)||Array.isArray(r)?void o.log.error("please return an object in beforesetup hooks"):void(t=(0,O["default"])(t,r))});var i=g["default"].getComponent("Player"),a=new i(n,t,r);return o.hooks("setup").forEach(function(e){return e(a)}),a}var a,s;t.__esModule=!0;var l=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(4)),u=i(l),c=r(5),d=i(c),h=r(7),f=n(h),p=r(15),y=n(p),v=r(16),g=i(v),m=r(20),_=i(m),b=r(8),E=n(b),T=r(21),w=i(T),k=r(104),S=i(k),C=r(19),O=i(C),A=r(17),R=n(A),P=r(31),L=i(P),x=r(105),D=i(x),j=r(106),M=i(j),I=r(22),N=r(61),F=i(N),B=r(11),U=i(B),G=r(9),H=n(G),V=r(12),W=n(V),z=r(35),q=n(z),K=r(13),Y=r(69),X=i(Y),$=r(107),J=i($),Z=r(36),Q=i(Z),ee=r(29),te=i(ee);if("undefined"==typeof HTMLVideoElement&&u["default"].document&&u["default"].document.createElement&&(d["default"].createElement("video"),d["default"].createElement("audio"),d["default"].createElement("track")),o.hooks_={},o.hooks=function(e,t){return o.hooks_[e]=o.hooks_[e]||[],t&&(o.hooks_[e]=o.hooks_[e].concat(t)),o.hooks_[e]},o.hook=function(e,t){o.hooks(e,t)},o.removeHook=function(e,t){var r=o.hooks(e).indexOf(t);return!(r<=-1)&&(o.hooks_[e]=o.hooks_[e].slice(),o.hooks_[e].splice(r,1),!0)},u["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var re=H.$(".vjs-styles-defaults");if(!re){re=y.createStyleElement("vjs-styles-defaults");var ne=H.$("head");ne&&ne.insertBefore(re,ne.firstChild),y.setTextContent(re,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}f.autoSetupTimeout(1,o),o.VERSION="5.14.1",o.options=w["default"].prototype.options_,o.getPlayers=function(){return w["default"].players},o.players=w["default"].players,o.getComponent=g["default"].getComponent,o.registerComponent=function(e,t){te["default"].isTech(t)&&U["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g["default"].registerComponent.call(g["default"],e,t)},o.getTech=te["default"].getTech,o.registerTech=te["default"].registerTech,o.browser=W,o.TOUCH_ENABLED=W.TOUCH_ENABLED,o.extend=J["default"],o.mergeOptions=O["default"],o.bind=R.bind,o.plugin=S["default"],o.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),o.options.languages=(0,O["default"])(o.options.languages,(r={},r[e]=t,r)),o.options.languages[e]},o.log=U["default"],o.createTimeRange=o.createTimeRanges=I.createTimeRanges,o.formatTime=F["default"],o.parseUrl=q.parseUrl,o.isCrossOrigin=q.isCrossOrigin,o.EventTarget=_["default"],o.on=E.on,o.one=E.one,o.off=E.off,o.trigger=E.trigger,o.xhr=Q["default"],o.TextTrack=L["default"],o.AudioTrack=D["default"],o.VideoTrack=M["default"],o.isEl=H.isEl,o.isTextNode=H.isTextNode,o.createEl=H.createEl,o.hasClass=H.hasElClass,o.addClass=H.addElClass,o.removeClass=H.removeElClass,o.toggleClass=H.toggleElClass,o.setAttributes=H.setElAttributes,o.getAttributes=H.getElAttributes,o.emptyEl=H.emptyEl,o.appendContent=H.appendContent,o.insertContent=H.insertContent,o.computedStyle=X["default"],a=[],s=function(){return o}.apply(t,a),!(void 0!==s&&(e.exports=s)),t["default"]=o},function(e,t){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,function(){return this}())},function(e,t,r){(function(t){var n="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},i=r(6);if("undefined"!=typeof document)e.exports=document;else{var o=n["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=o}}).call(t,function(){return this}())},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){t&&(f=t),setTimeout(p,e)}t.__esModule=!0,t.hasLoaded=t.autoSetupTimeout=t.autoSetup=void 0;var a=r(8),s=i(a),l=r(5),u=n(l),c=r(4),d=n(c),h=!1,f=void 0,p=function(){var e=u["default"].getElementsByTagName("video"),t=u["default"].getElementsByTagName("audio"),r=[];if(e&&e.length>0)for(var n=0,i=e.length;n<i;n++)r.push(e[n]);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++)r.push(t[a]);if(r&&r.length>0)for(var l=0,c=r.length;l<c;l++){var d=r[l];if(!d||!d.getAttribute){o(1);break}if(void 0===d.player){var p=d.getAttribute("data-setup");null!==p&&f(d)}}else h||o(1)};"complete"===u["default"].readyState?h=!0:s.one(d["default"],"load",function(){h=!0});var y=function(){return h};t.autoSetup=p,t.autoSetupTimeout=o,t.hasLoaded=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){var r=f.getElData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&f.removeElData(e)}function a(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function s(e){function t(){return!0}function r(){return!1}return e&&e.isPropagationStopped||!function(){var n=e||_["default"].event;e={};for(var i in n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||E["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var o=E["default"].documentElement,a=E["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}(),e}function l(e,t,r){if(Array.isArray(t))return a(l,e,t,r);var n=f.getElData(e);n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=y.newGUID()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=s(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,l=o.length;a<l&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,r)}catch(u){g["default"].error(u)}}}),1===n.handlers[t].length&&(e.addEventListener?e.addEventListener(t,n.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,n.dispatcher))}function u(e,t,r){if(f.hasElData(e)){var n=f.getElData(e);if(n.handlers){if(Array.isArray(t))return a(u,e,t,r);var i=function(t){n.handlers[t]=[],o(e,t)};if(t){var s=n.handlers[t];if(s){if(!r)return void i(t);if(r.guid)for(var l=0;l<s.length;l++)s[l].guid===r.guid&&s.splice(l--,1);o(e,t)}}else for(var c in n.handlers)i(c)}}}function c(e,t,r){var n=f.hasElData(e)?f.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=s(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&t.bubbles===!0)c.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var o=f.getElData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function d(e,t,r){if(Array.isArray(t))return a(d,e,t,r);var n=function i(){u(e,t,i),r.apply(this,arguments)};n.guid=r.guid=r.guid||y.newGUID(),l(e,t,n)}t.__esModule=!0,t.fixEvent=s,t.on=l,t.off=u,t.trigger=c,t.one=d;var h=r(9),f=i(h),p=r(10),y=i(p),v=r(11),g=n(v),m=r(4),_=n(m),b=r(5),E=n(b)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function u(e){return(0,K.isObject)(e)&&1===e.nodeType}function c(e){return function(t,r){if(!a(t))return F["default"][e](null);a(r)&&(r=F["default"].querySelector(r));var n=u(r)?r:F["default"];return n[e]&&n[e](t)}}function d(e){return 0===e.indexOf("#")&&(e=e.slice(1)),F["default"].getElementById(e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i=F["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(W["default"].warn((0,q["default"])(I,e,r)),i.setAttribute(e,r)):"textContent"===e?f(i,r):i[e]=r}),Object.getOwnPropertyNames(r).forEach(function(e){i.setAttribute(e,r[e])}),n&&j(i,n),i}function f(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function p(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function y(e){var t=e[X];return t||(t=e[X]=H.newGUID()),Y[t]||(Y[t]={}),Y[t]}function v(e){var t=e[X];return!!t&&!!Object.getOwnPropertyNames(Y[t]).length}function g(e){var t=e[X];if(t){delete Y[t];try{delete e[X]}catch(r){e.removeAttribute?e.removeAttribute(X):e[X]=null}}}function m(e,t){return s(t),e.classList?e.classList.contains(t):l(t).test(e.className)}function _(e,t){return e.classList?e.classList.add(t):m(e,t)||(e.className=(e.className+" "+t).trim()),e}function b(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function E(e,t,r){var n=m(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?_(e,t):b(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];null===n||"undefined"==typeof n||n===!1?e.removeAttribute(r):e.setAttribute(r,n===!0?"":n)})}function w(e){var t={},r=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,a=n[i].value;"boolean"!=typeof e[o]&&r.indexOf(","+o+",")===-1||(a=null!==a),t[o]=a}return t}function k(e,t){return e.getAttribute(t)}function S(e,t,r){e.setAttribute(t,r)}function C(e,t){e.removeAttribute(t)}function O(){F["default"].body.focus(),F["default"].onselectstart=function(){return!1}}function A(){F["default"].onselectstart=function(){return!0}}function R(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=F["default"].documentElement,n=F["default"].body,i=r.clientLeft||n.clientLeft||0,o=U["default"].pageXOffset||n.scrollLeft,a=t.left+o-i,s=r.clientTop||n.clientTop||0,l=U["default"].pageYOffset||n.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function P(e,t){var r={},n=R(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+o)/o)),r.x=Math.max(0,Math.min(1,(u-s)/i)),r}function L(e){return(0,K.isObject)(e)&&3===e.nodeType}function x(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function D(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),u(e)||L(e)?e:"string"==typeof e&&/\S/.test(e)?F["default"].createTextNode(e):void 0}).filter(function(e){return e})}function j(e,t){return D(t).forEach(function(t){return e.appendChild(t)}),e}function M(e,t){return j(x(e),t)}t.__esModule=!0,t.$$=t.$=void 0;var I=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);t.isEl=u,t.getEl=d,t.createEl=h,t.textContent=f,t.insertElFirst=p,t.getElData=y,t.hasElData=v,t.removeElData=g,t.hasElClass=m,t.addElClass=_,t.removeElClass=b,t.toggleElClass=E,t.setElAttributes=T,t.getElAttributes=w,t.getAttribute=k,t.setAttribute=S,t.removeAttribute=C,t.blockTextSelection=O,t.unblockTextSelection=A,t.findElPosition=R,t.getPointerPosition=P,t.isTextNode=L,t.emptyEl=x,t.normalizeContent=D,t.appendContent=j,t.insertContent=M;var N=r(5),F=i(N),B=r(4),U=i(B),G=r(10),H=n(G),V=r(11),W=i(V),z=r(14),q=i(z),K=r(13),Y={},X="vdata"+(new Date).getTime();t.$=c("querySelector"),t.$$=c("querySelectorAll")},function(e,t){"use strict";function r(){return n++}t.__esModule=!0,t.newGUID=r;var n=1},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.logByType=void 0;var i=r(4),o=n(i),a=r(12),s=r(13),l=void 0,u=t.logByType=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!a.IE_VERSION&&a.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),l.history.push(t),t.unshift("VIDEOJS:");var n=o["default"].console&&o["default"].console[e];n&&(r&&(t=t.map(function(e){if((0,s.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),n.apply?n[Array.isArray(t)?"apply":"call"](o["default"].console,t):n(t))};l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];u("log",t)},l.history=[],l.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u("error",t)},l.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u("warn",t)},t["default"]=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.BACKGROUND_SIZE_SUPPORTED=t.TOUCH_ENABLED=t.IS_ANY_SAFARI=t.IS_SAFARI=t.IE_VERSION=t.IS_IE8=t.IS_CHROME=t.IS_EDGE=t.IS_FIREFOX=t.IS_NATIVE_ANDROID=t.IS_OLD_ANDROID=t.ANDROID_VERSION=t.IS_ANDROID=t.IOS_VERSION=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=void 0;var i=r(5),o=n(i),a=r(4),s=n(a),l=s["default"].navigator&&s["default"].navigator.userAgent||"",u=/AppleWebKit\/([\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,d=t.IS_IPAD=/iPad/i.test(l),h=t.IS_IPHONE=/iPhone/i.test(l)&&!d,f=t.IS_IPOD=/iPod/i.test(l),p=t.IS_IOS=h||d||f,y=(t.IOS_VERSION=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),t.IS_ANDROID=/Android/i.test(l)),v=t.ANDROID_VERSION=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t?t:null}(),g=(t.IS_OLD_ANDROID=y&&/webkit/i.test(l)&&v<2.3,t.IS_NATIVE_ANDROID=y&&v<5&&c<537,t.IS_FIREFOX=/Firefox/i.test(l),t.IS_EDGE=/Edge/i.test(l)),m=t.IS_CHROME=!g&&/Chrome/i.test(l),_=(t.IS_IE8=/MSIE\s8\.0/.test(l),t.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(l)),t.IS_SAFARI=/Safari/i.test(l)&&!m&&!y&&!g);t.IS_ANY_SAFARI=_||p,t.TOUCH_ENABLED=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&o["default"]instanceof s["default"].DocumentTouch),t.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in o["default"].createElement("video").style},function(e,t){"use strict";function r(e,t){Object.keys(e).forEach(function(r){return t(e[r],r)})}function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(e).reduce(function(r,n){return t(r,e[n],n)},r)}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,r){e[r]=t})}),e)}function o(e){return!!e&&"object"===("undefined"==typeof e?"undefined":s(e))}function a(e){return o(e)&&"[object Object]"===l.call(e)&&e.constructor===Object}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.each=r,t.reduce=n,t.assign=i,t.isObject=o,t.isPlain=a;var l=Object.prototype.toString},function(e,t){function r(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.setTextContent=t.createStyleElement=void 0;var i=r(5),o=n(i);t.createStyleElement=function(e){var t=o["default"].createElement("style");return t.className=e,t},t.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(4),s=i(a),l=r(9),u=n(l),c=r(17),d=n(c),h=r(10),f=n(h),p=r(8),y=n(p),v=r(11),g=i(v),m=r(18),_=i(m),b=r(19),E=i(b),T=function(){function e(t,r,n){if(o(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,E["default"])({},this.options_),r=this.options_=(0,E["default"])(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+f.newGUID()}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return g["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,E["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,r){return u.createEl(e,t,r)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages();if(!t||!r)return e;var n=r[t];if(n&&n[e])return n[e];var i=t.split("-")[0],o=r[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,_["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=(0,_["default"])(t),r||(r={}),r===!0&&(g["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),r={});var a=r.componentClass||o;r.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,r)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&i.name(),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children,u=l[n]||null;this.contentEl().insertBefore(i.el(),u)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,r=this.options_.children;r&&!function(){var n=t.options_,i=function(e){var r=e.name,i=e.opts;if(void 0!==n[r]&&(i=n[r]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(r,i);o&&(t[r]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(r)?r:Object.keys(r),o.concat(Object.keys(t.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var n=void 0,i=void 0;return"string"==typeof e?(n=e,i=r[n]||t.options_[n]||{}):(n=e.name,i=e),{name:n,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||(0,_["default"])(t.name));return r&&!a.isTech(r)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,r){var n=this;return"string"==typeof e||Array.isArray(e)?y.on(this.el_,e,d.bind(this,t)):!function(){var i=e,o=t,a=d.bind(n,r),s=function(){return n.off(i,o,a)};s.guid=a.guid,n.on("dispose",s);var l=function(){return n.off("dispose",s)};l.guid=a.guid,e.nodeName?(y.on(i,o,a),y.on(i,"dispose",l)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",l))}(),this},e.prototype.off=function(e,t,r){if(!e||"string"==typeof e||Array.isArray(e))y.off(this.el_,e,t);else{var n=e,i=t,o=d.bind(this,r);this.off("dispose",o),e.nodeName?(y.off(n,i,o),y.off(n,"dispose",o)):(n.off(i,o),n.off("dispose",o))}return this},e.prototype.one=function(e,t,r){var n=this,i=arguments;return"string"==typeof e||Array.isArray(e)?y.one(this.el_,e,d.bind(this,t)):!function(){var o=e,a=t,s=d.bind(n,r),l=function u(){n.off(o,a,u),s.apply(null,i)};l.guid=s.guid,n.on(o,a,l)}(),this},e.prototype.trigger=function(e,t){return y.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return u.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return u.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return u.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",r||this.trigger("resize"),this;if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return i!==-1?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+(0,_["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var r=s["default"].getComputedStyle(this.el_);t=r.getPropertyValue(e)||r[e]}if(t=parseFloat(t),0===t){var n="offset"+(0,_["default"])(e);t=this.el_[n]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,r=10,n=200,i=void 0;this.on("touchstart",function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var n=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,a=Math.sqrt(n*n+o*o);a>r&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(r){if(t=null,i===!0){var o=(new Date).getTime()-e;o<n&&(r.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var r=function(r){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var r=s["default"].setTimeout(e,t),n=function(){this.clearTimeout(r)};return n.guid="vjs-timeout-"+r,this.on("dispose",n),r},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var r=s["default"].setInterval(e,t),n=function(){this.clearInterval(r)};return n.guid="vjs-interval-"+r,this.on("dispose",n),r},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,r){if(t)return t=(0,_["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]&&!function(){var r=e.components_[t];if(r.players&&Object.keys(r.players).length>0&&Object.keys(r.players).map(function(e){return r.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}(),e.components_[t]=r,r},e.getComponent=function(t){if(t)return t=(0,_["default"])(t),e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(g["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},g["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var r=t.init||t.init||this.prototype.init||this.prototype.init||function(){},n=function(){r.apply(this,arguments)};n.prototype=Object.create(this.prototype),n.prototype.constructor=n,n.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},e}();T.registerComponent("Component",T),t["default"]=T},function(e,t,r){"use strict";t.__esModule=!0,t.throttle=t.bind=void 0;var n=r(10);t.bind=function(e,t,r){t.guid||(t.guid=(0,n.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=r?r+"_"+t.guid:t.guid,i},t.throttle=function(e,t){var r=Date.now(),n=function(){var n=Date.now();n-r>=t&&(e.apply(void 0,arguments),r=n)};return n}},function(e,t){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(){for(var e={},t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.forEach(function(t){t&&(0,i.each)(t,function(t,r){return(0,i.isPlain)(t)?((0,i.isPlain)(e[r])||(e[r]={}),void(e[r]=n(e[r],t))):void(e[r]=t)})}),e}t.__esModule=!0,t["default"]=n;var i=r(13)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}t.__esModule=!0;var i=r(8),o=n(i),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=r},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){o.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=r},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,t["default"]=a},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(5),d=i(c),h=r(4),f=i(h),p=r(8),y=n(p),v=r(9),g=n(v),m=r(17),_=n(m),b=r(10),E=n(b),T=r(12),w=n(T),k=r(11),S=i(k),C=r(18),O=i(C),A=r(22),R=r(23),P=r(15),L=n(P),x=r(24),D=i(x),j=r(25),M=i(j),I=r(26),N=i(I),F=r(13),B=r(19),U=i(B),G=r(27),H=i(G),V=r(28),W=i(V),z=r(29),q=i(z),K=r(47),Y=i(K),X=r(46),$=i(X);r(48),r(49),r(51),r(53),r(54),r(55),r(57),r(58),r(101),r(102),r(103);var J=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Z=function(e){function t(r,n,i){if(o(this,t),r.id=r.id||"vjs_video_"+E.newGUID(),n=(0,F.assign)(t.getTagSettings(r),n),n.initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var s=r.closest("[lang]");s&&(n.language=s.getAttribute("lang"))}else for(var l=r;l&&1===l.nodeType;){if(g.getElAttributes(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}var u=a(this,e.call(this,null,n,i));if(!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");u.tag=r,u.tagAttributes=r&&g.getElAttributes(r),u.language(u.options_.language),n.languages?!function(){var e={};Object.getOwnPropertyNames(n.languages).forEach(function(t){e[t.toLowerCase()]=n.languages[t]}),u.languages_=e}():u.languages_=t.prototype.options_.languages,u.cache_={},u.poster_=n.poster||"",u.controls_=!!n.controls,r.controls=!1,u.scrubbing_=!1,u.el_=u.createEl();var c=(0,U["default"])(u.options_);return n.plugins&&!function(){var e=n.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):S["default"].error("Unable to find plugin:",t)},u)}(),u.options_.playerOptions=c,u.initChildren(),u.isAudio("audio"===r.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label","audio player"):u.el_.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),w.IS_IOS||u.addClass("vjs-workinghover"),t.players[u.id_]=u,u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u}return s(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),r=this.tag;r.removeAttribute("width"),r.removeAttribute("height");var n=g.getElAttributes(r);if(Object.getOwnPropertyNames(n).forEach(function(e){"class"===e?t.className=n[e]:t.setAttribute(e,n[e])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=t.player=this,this.addClass("vjs-paused"),f["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=L.createStyleElement("vjs-styles-dimensions");var i=g.$(".vjs-styles-defaults"),o=g.$("head");o.insertBefore(this.styleEl_,i?i.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=r.getElementsByTagName("a"),s=0;s<a.length;s++){var l=a.item(s);g.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&r.parentNode.insertBefore(t,r),g.insertElFirst(r,t),this.children_.unshift(r),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t)this[r]=void 0;else{var n=parseFloat(t);if(isNaN(n))return S["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[r]=n}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(f["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();return void(r&&(e>=0&&(r.width=e),t>=0&&(r.height=t)))}var n=void 0,i=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),l=s[1]/s[0];n=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,i=void 0!==this.height_?this.height_:n*l,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),L.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+n+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(q["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=(0,F.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=q["default"].getTech(e);i||(i=u["default"].getComponent(e)),this.tech_=new i(n),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),H["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),J.forEach(function(e){r.on(r.tech_,e,r["handleTech"+(0,O["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=H["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw f["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,S["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(r){throw(0,S["default"])(r),r}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,S["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,S["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,S["default"])(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function r(){var r=this.techGet_("buffered");return r&&r.length||(r=(0,A.createTimeRange)(0,0)),r},t.prototype.bufferedPercent=function(){return(0,R.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=D["default"];return this.isFullscreen(!0),e.requestFullscreen?(y.on(d["default"],e.fullscreenchange,_.bind(this,function t(r){this.isFullscreen(d["default"][e.fullscreenElement]),this.isFullscreen()===!1&&y.off(d["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=D["default"];return this.isFullscreen(!1),e.requestFullscreen?d["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=d["default"].documentElement.style.overflow,y.on(d["default"],"keydown",_.bind(this,this.fullWindowOnEscKey)),d["default"].documentElement.style.overflow="hidden",g.addElClass(d["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,y.off(d["default"],"keydown",this.fullWindowOnEscKey),d["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(d["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=(0,O["default"])(n[r]),o=q["default"].getTech(i);if(o||(o=u["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else S["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,r=this.options_.techOrder.map(O["default"]).map(function(e){return[e,q["default"].getTech(e)||u["default"].getComponent(e)]}).filter(function(e){var t=e[0],r=e[1];return r?r.isSupported():(S["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,r){var n=void 0;return e.some(function(e){return t.some(function(t){if(n=r(e,t))return!0})}),n},i=void 0,o=function(e){return function(t,r){return e(r,t)}},a=function(e,r){var n=e[0],i=e[1];if(i.canPlaySource(r,t.options_[n.toLowerCase()]))return{source:r,tech:n}};return i=this.options_.sourceOrder?n(e,r,o(a)):n(r,e,a),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=q["default"].getTech(this.techName_);return t||(t=u["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,O["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new M["default"](e),this.addClass("vjs-error"),S["default"].error("(CODE:"+this.error_.code+" "+M["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,r=void 0,n=_.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())},o=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},a=function(t){n(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",n),this.on("keyup",n);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new $["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new Y["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,r=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,U["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,U["default"])(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];n=(0,U["default"])(n),n.player=void 0,e.tracks[r]=n}return e},t.prototype.createModal=function(e,t){var r=this;t=t||{},t.content=e||"";var n=new W["default"](this,t);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=g.getElAttributes(e),n=r["data-setup"];if(g.hasElClass(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=(0,N["default"])(n||"{}"),o=i[0],a=i[1];o&&S["default"].error(o),(0,F.assign)(r,a)}if((0,F.assign)(t,r),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(g.getElAttributes(c)):"track"===d&&t.tracks.push(g.getElAttributes(c))}return t},t.prototype.flexNotSupported_=function(){var e=d["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(u["default"]);Z.players={};var Q=f["default"].navigator;Z.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Q&&(Q.languages&&Q.languages[0]||Q.userLanguage||Q.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Z.prototype[e]=function(){return this.techGet_(e)}}),J.forEach(function(e){Z.prototype["handleTech"+(0,O["default"])(e)+"_"]=function(){return this.trigger(e)}}),u["default"].registerComponent("Player",Z),t["default"]=Z},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){if(t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+r+").")}function o(e,t,r,n){return void 0===n&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),n=0),i(e,n,r.length-1),r[n][t]}function a(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function s(e,t){return Array.isArray(e)?a(e):void 0===e||void 0===t?a():a([[e,t]])}t.__esModule=!0,t.createTimeRange=void 0,t.createTimeRanges=s;var l=r(11),u=n(l);t.createTimeRange=s},function(e,t,r){"use strict";function n(e,t){var r=0,n=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var a=0;a<e.length;a++)n=e.start(a),o=e.end(a),o>t&&(o=t),r+=o-n;return r/t}t.__esModule=!0,t.bufferedPercent=n;var i=r(22)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;for(var i=r(5),o=n(i),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],u=void 0,c=0;c<s.length;c++)if(s[c][1]in o["default"]){u=s[c];break}if(u)for(var d=0;d<u.length;d++)a[l[d]]=u[d];t["default"]=a},function(e,t,r){"use strict";function n(e){return e instanceof n?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),void(this.message||(this.message=n.defaultMessages[this.code]||"")))}t.__esModule=!0;var i=r(13);n.prototype.code=0,n.prototype.message="",n.prototype.status=null,n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<n.errorTypes.length;o++)n[n.errorTypes[o]]=o,n.prototype[n.errorTypes[o]]=o;t["default"]=n},function(e,t){function r(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(i){n=i}return[n,r]}e.exports=r},function(e,t){"use strict";t.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,r,n){return e[r]&&(t[r]=e[r]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},n=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(r))},i=function(e,t){return e.forEach(function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return r.addCue(e)})}),t.textTracks()};t["default"]={textTracksToJson:n,jsonToTextTracks:i,trackToJson_:r}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(9),u=i(l),c=r(17),d=i(c),h=r(16),f=n(h),p="vjs-modal-dialog",y=27,v=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=u.createEl("div",{className:p+"-content"},{role:"document"}),i.descEl_=u.createEl("p",{className:p+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),u.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description",
"aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return p+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===y&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",d.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",d.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function r(e){if("boolean"==typeof e){var r=this.closeable_=!!e,t=this.getChild("closeButton");if(r&&!t){var n=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(t,"close",this.close)}!r&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),u.insertContent(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),u.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(f["default"]);v.prototype.options_={temporary:!0},f["default"].registerComponent("ModalDialog",v),t["default"]=v},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new m["default"](i);return o.addTrack_(a),a}t.__esModule=!0;var u=r(16),c=i(u),d=r(30),h=i(d),f=r(43),p=i(f),y=r(19),v=i(y),g=r(31),m=i(g),_=r(44),b=i(_),E=r(46),T=i(E),w=r(47),k=i(w),S=r(17),C=n(S),O=r(11),A=i(O),R=r(22),P=r(23),L=r(25),x=i(L),D=r(4),j=i(D),M=r(5),I=i(M),N=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,t),r.reportTouchActivity=!1;var i=a(this,e.call(this,null,r,n));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=r.textTracks,i.videoTracks_=r.videoTracks,i.audioTracks_=r.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){r["native"+e+"Tracks"]===!1&&(i["featuresNative"+e+"Tracks"]=!1)}),r.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new b["default"],i.initTextTrackListeners(),i.initTrackListeners(),i.emitTapEvents(),i}return s(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(C.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return(0,R.createTimeRange)(0,0)},t.prototype.bufferedPercent=function(){return(0,P.bufferedPercent)(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack_(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new x["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?(0,R.createTimeRange)(0,0):(0,R.createTimeRange)()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=C.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",C.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var r=function(){e.trigger(t+"trackchange")},n=e[t+"Tracks"]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;j["default"].WebVTT||null===this.el().parentNode||void 0===this.el().parentNode||!function(){var t=I["default"].createElement("script");t.src=e.options_["vtt.js"]||"../node_modules/videojs-vtt.js/dist/vtt.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),j["default"].WebVTT=!0,e.el().parentNode.appendChild(t)}()},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){this.remoteTextTracks().on("addtrack",function(t){e.textTracks().addTrack_(t.track)}),this.remoteTextTracks().on("removetrack",function(t){e.textTracks().removeTrack_(t.track)}),this.on("ready",this.addWebVttScript_);var r=function(){return e.trigger("texttrackchange")},n=function(){r();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};n(),t.addEventListener("change",n),this.on("dispose",function(){t.removeEventListener("change",n)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new T["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new k["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new b["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new b["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return l(this,e,t,r)},t.prototype.createRemoteTextTrack=function(e){var t=(0,v["default"])(e,{tech:this});return new h["default"](t)},t.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(A["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack_(r.track),t!==!0&&this.autoRemoteTextTracks_.addTrack_(r.track),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,r){if(t.techs_||(t.techs_={}),!t.isTech(r))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=r,r},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:j["default"]&&j["default"].videojs&&j["default"].videojs[e]?(A["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),j["default"].videojs[e]):void 0},t}(c["default"]);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_,N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r=e.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canHandleSource(t,r))return n[o];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);return r||(e.nativeSourceHandler?r=e.nativeSourceHandler:A["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},c["default"].registerComponent("Tech",N),c["default"].registerComponent("MediaTechController",N),N.registerTech("Tech",N),t["default"]=N},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(12),u=i(l),c=r(5),d=n(c),h=r(20),f=n(h),p=r(31),y=n(p),v=0,g=1,m=2,_=3,b=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=a(this,e.call(this)),i=void 0,s=n;if(u.IS_IE8){s=d["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}var c=new y["default"](r);if(s.kind=c.kind,s.src=c.src,s.srclang=c.language,s.label=c.label,s["default"]=c["default"],Object.defineProperty(s,"readyState",{get:function(){return i}}),Object.defineProperty(s,"track",{get:function(){return c}}),i=v,c.addEventListener("loadeddata",function(){i=m,s.trigger({type:"load",target:s})}),u.IS_IE8){var h;return h=s,a(n,h)}return n}return s(t,e),t}(f["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=v,b.LOADING=g,b.LOADED=m,b.ERROR=_,t["default"]=b},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(32),u=i(l),c=r(17),d=n(c),h=r(33),f=r(11),p=i(f),y=r(4),v=i(y),g=r(34),m=i(g),_=r(35),b=r(36),E=i(b),T=r(19),w=i(T),k=r(12),S=n(k),C=function(e,t){var r=new v["default"].WebVTT.Parser(v["default"],v["default"].vttjs,v["default"].WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(v["default"].console&&v["default"].console.groupCollapsed&&v["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return p["default"].error(e)}),v["default"].console&&v["default"].console.groupEnd&&v["default"].console.groupEnd()),r.flush()},O=function(e,t){var r={uri:e},n=(0,_.isCrossOrigin)(e);n&&(r.cors=n),(0,E["default"])(r,d.bind(this,function(e,r,n){return e?p["default"].error(e,r):(t.loaded_=!0,void("function"!=typeof v["default"].WebVTT?t.tech_&&!function(){var e=function(){return C(n,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){p["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():C(n,t)))}))},A=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!i.tech)throw new Error("A tech was not provided.");var s=(0,w["default"])(i,{kind:h.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),l=h.TextTrackMode[s.mode]||"disabled",c=s["default"];"metadata"!==s.kind&&"chapters"!==s.kind||(l="hidden");var f=r=a(this,e.call(this,s));if(f.tech_=s.tech,S.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(f[p]=t.prototype[p]);f.cues_=[],f.activeCues_=[];var y=new u["default"](f.cues_),v=new u["default"](f.activeCues_),g=!1,m=d.bind(f,function(){this.activeCues,g&&(this.trigger("cuechange"),g=!1)});return"disabled"!==l&&f.tech_.on("timeupdate",m),Object.defineProperty(f,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(f,"mode",{get:function(){return l},set:function(e){h.TextTrackMode[e]&&(l=e,"showing"===l&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}}),Object.defineProperty(f,"cues",{get:function(){return this.loaded_?y:null},set:function(){}}),Object.defineProperty(f,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return v;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(g=!1,t.length!==this.activeCues_.length)g=!0;else for(var o=0;o<t.length;o++)this.activeCues_.indexOf(t[o])===-1&&(g=!0);return this.activeCues_=t,v.setCues_(this.activeCues_),v},set:function(){}}),s.src?(f.src=s.src,O(s.src,f)):f.loaded_=!0,n=f,a(r,n)}return s(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var r=0;r<t.length;r++)t[r]!==this&&t[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,r=0,n=this.cues_.length;r<n;r++){var i=this.cues_[r];i===e&&(this.cues_.splice(r,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(m["default"]);A.prototype.allowedEvents_={cuechange:"cuechange"},t["default"]=A},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(12),s=i(a),l=r(5),u=n(l),c=function(){function e(t){o(this,e);var r=this;if(s.IS_IE8){r=u["default"].createElement("custom");for(var n in e.prototype)"constructor"!==n&&(r[n]=e.prototype[n])}if(e.prototype.setCues_.call(r,t),Object.defineProperty(r,"length",{get:function(){return this.length_}}),s.IS_IE8)return r}return e.prototype.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},e.prototype.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}();t["default"]=c},function(e,t){"use strict";t.__esModule=!0;t.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},t.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},t.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},t.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(12),u=i(l),c=r(5),d=n(c),h=r(10),f=i(h),p=r(20),y=n(p),v=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var i=a(this,e.call(this)),s=i;if(u.IS_IE8){s=d["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}var c={id:n.id||"vjs_track_"+f.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},h=function(e){Object.defineProperty(s,e,{get:function(){return c[e]},set:function(){}})};for(var p in c)h(p);return r=s,a(i,r)}return s(t,e),t}(y["default"]);t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.isCrossOrigin=t.getFileExtension=t.getAbsoluteURL=t.parseUrl=void 0;var i=r(5),o=n(i),a=r(4),s=n(a),l=t.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=o["default"].createElement("a");r.href=e;var n=""===r.host&&"file:"!==r.protocol,i=void 0;n&&(i=o["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(i));for(var a={},s=0;s<t.length;s++)a[t[s]]=r[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),n&&o["default"].body.removeChild(i),a};t.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=o["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},t.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,r=t.exec(e);if(r)return r.pop().toLowerCase()}return""},t.isCrossOrigin=function(e){var t=s["default"].location,r=l(e),n=":"===r.protocol?t.protocol:r.protocol,i=n+r.host!==t.protocol+t.host;return i}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;r++)t(e[r])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,r){var n=e;return d(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=f(t,{uri:e}),n.callback=r,n}function a(e,t,r){return t=o(e,t,r),s(t)}function s(e){function t(){4===u.readyState&&o()}function r(){var e=void 0;if(u.response?e=u.response:"text"!==u.responseType&&u.responseType||(e=u.responseText||u.responseXML),b)try{e=JSON.parse(e)}catch(t){}return e}function n(e){clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,l)}function o(){if(!f){var t;clearTimeout(p),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var n=l,i=null;0!==t?(n={body:r(),statusCode:t,method:v,headers:{},url:y,rawRequest:u},u.getAllResponseHeaders&&(n.headers=h(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,n,n.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=c(s);var l={body:void 0,headers:{},statusCode:0,method:v,url:y,rawRequest:u},u=e.xhr||null;u||(u=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var d,f,p,y=u.url=e.uri||e.url,v=u.method=e.method||"GET",g=e.body||e.data||null,m=u.headers=e.headers||{},_=!!e.sync,b=!1;if("json"in e&&(b=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),g=JSON.stringify(e.json))),u.onreadystatechange=t,u.onload=o,u.onerror=n,u.onprogress=function(){},u.ontimeout=n,u.open(v,y,!_,e.username,e.password),_||(u.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(p=setTimeout(function(){f=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),u.setRequestHeader)for(d in m)m.hasOwnProperty(d)&&u.setRequestHeader(d,m[d]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(g),u}function l(){}var u=r(4),c=r(37),d=r(38),h=r(39),f=r(42);e.exports=a,a.XMLHttpRequest=u.XMLHttpRequest||l,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:u.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,r,n){return r=o(t,r,n),r.method=e.toUpperCase(),s(r)}})},function(e,t){function r(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}e.exports=r,r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},function(e,t){function r(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=r;var n=Object.prototype.toString},function(e,t,r){var n=r(40),i=r(41),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},function(e,t){function r(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=r,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,r){function n(e,t,r){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this),"[object Array]"===l.call(e)?i(e,t,r):"string"==typeof e?o(e,t,r):a(e,t,r)}function i(e,t,r){for(var n=0,i=e.length;n<i;n++)u.call(e,n)&&t.call(r,e[n],n,e)}function o(e,t,r){for(var n=0,i=e.length;n<i;n++)t.call(r,e.charAt(n),n,e)}function a(e,t,r){for(var n in e)u.call(e,n)&&t.call(r,e[n],n,e)}var s=r(38);e.exports=n;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}e.exports=r;var n=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(12),s=i(a),l=r(5),u=n(l),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);var r=this;if(s.IS_IE8){r=u["default"].createElement("custom");for(var n in e.prototype)"constructor"!==n&&(r[n]=e.prototype[n])}r.trackElements_=[],Object.defineProperty(r,"length",{get:function(){return this.trackElements_.length}});for(var i=0,a=t.length;i<a;i++)r.addTrackElement_(t[i]);if(s.IS_IE8)return r}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();t["default"]=c},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(45),u=i(l),c=r(17),d=n(c),h=r(12),f=n(h),p=r(5),y=i(p),v=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);var s=void 0;if(f.IS_IE8){s=y["default"].createElement("custom");for(var l in u["default"].prototype)"constructor"!==l&&(s[l]=u["default"].prototype[l]);for(var c in t.prototype)"constructor"!==c&&(s[c]=t.prototype[c])}return s=r=a(this,e.call(this,i,s)),n=s,a(r,n)}return s(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",d.bind(this,function(){this.trigger("change")}))},t}(u["default"]);t["default"]=v},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(20),u=i(l),c=r(12),d=n(c),h=r(5),f=i(h),p=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t);var s=a(this,e.call(this));if(!i&&(i=s,
d.IS_IE8)){i=f["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var u=0;u<n.length;u++)i.addTrack_(n[u]);return r=i,a(s,r)}return s(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,r=0,n=this.length;r<n;r++)if(this[r]===e){t=this[r],t.off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(u["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var y in p.prototype.allowedEvents_)p.prototype["on"+y]=null;t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(45),u=i(l),c=r(12),d=n(c),h=r(5),f=i(h),p=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].selected=!1)},y=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,l=i.length-1;l>=0;l--)if(i[l].selected){p(i,i[l]);break}if(d.IS_IE8){s=f["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=r=a(this,e.call(this,i,s)),s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n=s,a(r,n)}return s(t,e),t.prototype.addTrack_=function(t){var r=this;t.selected&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){r.changing_||(r.changing_=!0,p(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);t["default"]=y},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(45),u=i(l),c=r(12),d=n(c),h=r(5),f=i(h),p=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].enabled=!1)},y=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var s=void 0,l=i.length-1;l>=0;l--)if(i[l].enabled){p(i,i[l]);break}if(d.IS_IE8){s=f["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=r=a(this,e.call(this,i,s)),s.changing_=!1,n=s,a(r,n)}return s(t,e),t.prototype.addTrack_=function(t){var r=this;t.enabled&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){r.changing_||(r.changing_=!0,p(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);t["default"]=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=r(29),c=n(u),d=r(18),h=n(d),f=function(e){function t(r,n,a){i(this,t);var s=o(this,e.call(this,r,n,a));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)r.src(n.playerOptions.sources);else for(var u=0,d=n.playerOptions.techOrder;u<d.length;u++){var f=(0,h["default"])(d[u]),p=c["default"].getTech(f);if(f||(p=l["default"].getComponent(f)),p&&p.isSupported()){r.loadTech_(f);break}}return s}return a(t,e),t}(l["default"]);l["default"].registerComponent("MediaLoader",f),t["default"]=f},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.charAt(0).toUpperCase()+e.slice(1);C["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function u(e){C[e]=function(){return this.el_.vjs_getProperty(e)}}t.__esModule=!0;for(var c=r(29),d=i(c),h=r(9),f=n(h),p=r(35),y=n(p),v=r(22),g=r(50),m=i(g),_=r(16),b=i(_),E=r(4),T=i(E),w=r(13),k=T["default"].navigator,S=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return r.source&&i.ready(function(){this.setSource(r.source)},!0),r.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(r.startTime)},!0),T["default"].videojs=T["default"].videojs||{},T["default"].videojs.Flash=T["default"].videojs.Flash||{},T["default"].videojs.Flash.onReady=t.onReady,T["default"].videojs.Flash.onEvent=t.onEvent,T["default"].videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=void 0}),i}return s(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){var r="5.1.0";e.swf="//vjs.zencdn.net/swf/"+r+"/video-js.swf"}var n=e.techId,i=(0,w.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=(0,w.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),a=(0,w.assign)({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,o,a),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=y.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var r=this.seekable();r.length&&(t=t>r.start(0)?t:r.start(0),t=t<r.end(r.length-1)?t:r.end(r.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function r(){if(0===this.readyState())return NaN;var r=this.el_.vjs_getProperty("duration");return r>=0?r:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,v.createTimeRange)():(0,v.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,v.createTimeRange)():(0,v.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(d["default"]),C=S.prototype,O="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),A="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),R=0;R<O.length;R++)u(O[R]),l(O[R]);for(var P=0;P<A.length;P++)u(A[P]);S.isSupported=function(){return S.version()[0]>=10},d["default"].withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(e){return e in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(e,t){function r(e){var t=y.getFileExtension(e);return t?"video/"+t:""}var n=void 0;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():r(e.src),S.nativeSourceHandler.canPlayType(n)},S.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(e){var t=f.getEl(e),r=t&&t.tech;r&&r.el()&&S.checkReady(r)},S.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){S.checkReady(e)},50))},S.onEvent=function(e,t){var r=f.getEl(e).tech,n=Array.prototype.slice.call(arguments,2);r.setTimeout(function(){r.trigger(t,n)},1)},S.onError=function(e,t){var r=f.getEl(e).tech;return"srcnotfound"===t?r.error(4):void r.error("FLASH: "+t)},S.version=function(){var e="0,0,0";try{e=new T["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{k.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(k.plugins["Shockwave Flash 2.0"]||k.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(r){}}return e.split(",")},S.embed=function(e,t,r,n){var i=S.getEmbedCode(e,t,r,n),o=f.createEl("div",{innerHTML:i}).childNodes[0];return o},S.getEmbedCode=function(e,t,r,n){var i='<object type="application/x-shockwave-flash" ',o="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),r=(0,w.assign)({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+='<param name="'+e+'" value="'+r[e]+'" />'}),n=(0,w.assign)({data:e,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach(function(e){s+=e+'="'+n[e]+'" '}),""+i+s+">"+a+"</object>"},(0,m["default"])(S),b["default"].registerComponent("Flash",S),d["default"].registerTech("Flash",S),t["default"]=S},function(e,t){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var r=e.search(/&(?!\w+=)/),n=void 0;return r!==-1?n=r+1:(r=n=e.lastIndexOf("/")+1,0===r&&(r=n=e.length)),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);return n?n:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,r,n){var i=e.streamToParts(t.src);r.setRtmpConnection(i.connection),r.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(52),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=r(9),y=n(p),v=r(12),g=n(v),m=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.update(),r.on("posterchange",f.bind(i,i.update)),i}return s(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=y.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=y.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t}(u["default"]);d["default"].registerComponent("PosterImage",m),t["default"]=m},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(8),f=n(h),p=r(17),y=n(p),v=r(11),g=i(v),m=r(5),_=i(m),b=r(13),E=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.emitTapEvents(),i.enable(),i}return s(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=(0,b.assign)({role:"button","aria-live":"polite"},n),this.tabIndex_=r.tabIndex;var i=e.prototype.createEl.call(this,t,r,n);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=d.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var r=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=r,t.setAttribute("title",r),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){f.on(_["default"],"keydown",y.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){f.off(_["default"],"keydown",y.bind(this,this.handleKeyPress))},t}(u["default"]);u["default"].registerComponent("ClickableComponent",E),t["default"]=E},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function u(e,t,r){try{e.style[t]=r}catch(n){return}}t.__esModule=!0;var c=r(16),d=i(c),h=r(17),f=n(h),p=r(4),y=i(p),v="#222",g="#ccc",m={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},_=function(e){function t(r,n,i){o(this,t);var s=a(this,e.call(this,r,n,i));return r.on("loadstart",f.bind(s,s.toggleDisplay)),r.on("texttrackchange",f.bind(s,s.updateDisplay)),r.ready(f.bind(s,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)return void this.hide();r.on("fullscreenchange",f.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t]);var n={captions:1,subtitles:1},i=this.player_.textTracks(),o=void 0,a=void 0;if(i){for(var s=0;s<i.length;s++){var l=i[s];l["default"]&&("descriptions"!==l.kind||o?l.kind in n&&!a&&(a=l):o=l)}a?a.mode="showing":o&&(o.mode="showing")}})),s}return s(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof y["default"].WebVTT&&y["default"].WebVTT.processCues(y["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof y["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),r=[],n=0;n<e.activeCues.length;n++)r.push(e.activeCues[n]);y["default"].WebVTT.processCues(y["default"],r,this.el_);for(var i=r.length;i--;){var o=r[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&u(a.firstChild,"color",l(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&u(a.firstChild,"backgroundColor",l(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?u(a,"backgroundColor",l(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+v+", 2px 2px 4px "+v+", 2px 2px 5px "+v:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+v+", 2px 2px "+v+", 3px 3px "+v:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+g+", 0 1px "+g+", -1px -1px "+v+", 0 -1px "+v:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+v+", 0 0 4px "+v+", 0 0 4px "+v+", 0 0 4px "+v)),t.fontPercent&&1!==t.fontPercent){var s=y["default"].parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=m[t.fontFamily])}}}},t}(d["default"]);d["default"].registerComponent("TextTrackDisplay",_),t["default"]=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(l["default"]);l["default"].registerComponent("LoadingSpinner",u),t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(56),l=n(s),u=r(16),c=n(u),d=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play()},t}(l["default"]);d.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(52),l=n(s),u=r(16),c=n(u),d=r(11),h=n(d),f=r(13),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,f.assign)({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,f.assign)({tabIndex:0},t),r=(0,f.assign)({role:"button"},r)),r=(0,f.assign)({type:"button","aria-live":"polite"},r);var n=c["default"].prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(l["default"]);c["default"].registerComponent("Button",p),t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(56),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return a.controlText(n&&n.controlText||a.localize("Close")),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(l["default"]);c["default"].registerComponent("CloseButton",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s);r(59),r(60),r(62),r(63),r(64),r(65),r(66),r(74),r(75),r(78),r(81),r(82),r(91),r(92),r(93),r(95),r(97),r(99);var u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(l["default"]);u.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},l["default"].registerComponent("ControlBar",u),t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(56),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return a.on(r,"play",a.handlePlay),a.on(r,"pause",a.handlePause),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(l["default"]);d.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",d),t["default"]=d},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(61),f=i(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"timeupdate",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),r=this.localize("Current Time"),n=(0,f["default"])(t,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+r+"</span> "+n)},t}(u["default"]);u["default"].registerComponent("CurrentTimeDisplay",p),t["default"]=p},function(e,t){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),i=i>0||a>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(61),f=i(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"durationchange",i.updateContent),i.on(r,"timeupdate",i.updateContent),i.on(r,"loadedmetadata",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var r=this.localize("Duration Time"),n=(0,f["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+r+"</span> "+n}},t}(u["default"]);u["default"].registerComponent("DurationDisplay",p),t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(l["default"]);l["default"].registerComponent("TimeDivider",u),t["default"]=u},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(61),f=i(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"timeupdate",i.updateContent),i.on(r,"durationchange",i.updateContent),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),r=(0,f["default"])(this.player_.remainingTime());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+r)}},t}(u["default"]);u["default"].registerComponent("RemainingTimeDisplay",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(u["default"]);u["default"].registerComponent("LiveDisplay",h),t["default"]=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s);r(67),r(73);var u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(l["default"]);u.prototype.options_={children:["seekBar"]},l["default"].registerComponent("ProgressControl",u),t["default"]=u},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(68),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=r(61),y=i(p),v=r(69),g=i(v);r(70),r(71),r(72);var m=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"timeupdate",i.updateProgress),i.on(r,"ended",i.updateProgress),r.ready(f.bind(i,i.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltipProgressBar=i.addChild("TooltipProgressBar")),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,g["default"])(this.player().el(),"width")),r=parseFloat((0,g["default"])(this.tooltipProgressBar.tooltip,"width")),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(t-r/2)+"px",n.minWidth=Math.ceil(r/2)+"px",n.right="-"+r/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,y["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(u["default"]);m.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",d["default"].registerComponent("SeekBar",m),t["default"]=m},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(13),f=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(r,"controlsvisible",i.update),i.on(r,i.playerEvent,i.update),i}return s(t,e),t.prototype.createEl=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.className=r.className+" vjs-slider",r=(0,h.assign)({tabIndex:0},r),n=(0,h.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),d.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;d.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=r:t.el().style.width=r}}},t.prototype.calculateDistance=function(e){var t=d.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(u["default"]);u["default"].registerComponent("Slider",f),t["default"]=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!e||!t)return"";if("function"==typeof a["default"].getComputedStyle){var r=a["default"].getComputedStyle(e);return r?r[t]:""}return e.currentStyle[t]||""}t.__esModule=!0,t["default"]=i;var o=r(4),a=n(o)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.partEls_=[],i.on(r,"progress",i.update),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var r=e/t||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=o(n,r);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),u=i[a];u||(u=this.el_.appendChild(d.createEl()),i[a]=u),u.style.left=o(s,n),u.style.width=o(l-s,n)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(u["default"]);u["default"].registerComponent("LoadProgressBar",h),t["default"]=h},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(17),d=n(c),h=r(61),f=i(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.updateDataAttr(),i.on(r,"timeupdate",i.updateDataAttr),r.ready(d.bind(i,i.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&i.addClass("vjs-keep-tooltips-inside"),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,f["default"])(t,this.player_.duration()))},t}(u["default"]);u["default"].registerComponent("PlayProgressBar",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(17),d=n(c),h=r(61),f=i(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.updateDataAttr(),i.on(r,"timeupdate",i.updateDataAttr),r.ready(d.bind(i,i.updateDataAttr)),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),r=(0,f["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",r),this.tooltip.innerHTML=r},t}(u["default"]);u["default"].registerComponent("TooltipProgressBar",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(17),f=n(h),p=r(61),y=i(p),v=r(69),g=i(v),m=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=d.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),r.on("ready",function(){i.on(r.controlBar.progressControl.el(),"mousemove",f.throttle(f.bind(i,i.handleMouseMove),25))}),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),r=this.calculateDistance(e)*t,n=e.pageX-d.findElPosition(this.el().parentNode).left;this.update(r,n)},t.prototype.update=function(e,t){var r=(0,y["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",r),this.keepTooltipsInside){var n=this.clampPosition_(t),i=t-n+1,o=parseFloat((0,g["default"])(this.tooltip,"width")),a=o/2;this.tooltip.innerHTML=r,this.tooltip.style.right="-"+(a-i)+"px"}},t.prototype.calculateDistance=function(e){return d.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,g["default"])(this.player().el(),"width")),r=parseFloat((0,g["default"])(this.tooltip,"width")),n=r/2,i=e;return e<n?i=Math.ceil(n):e>t-n&&(i=Math.floor(t-n)),i},t}(u["default"]);u["default"].registerComponent("MouseTimeDisplay",m),t["default"]=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(56),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return a.on(r,"fullscreenchange",a.handleFullscreenChange),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(l["default"]);d.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s);r(76);var u=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return r.tech_&&r.tech_.featuresVolumeControl===!1&&a.addClass("vjs-hidden"),a.on(r,"loadstart",function(){r.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),a}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(l["default"]);u.prototype.options_={children:["volumeBar"]},l["default"].registerComponent("VolumeControl",u),t["default"]=u},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(68),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h);r(77);var p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"volumechange",i.updateARIAAttributes),r.ready(f.bind(i,i.updateARIAAttributes)),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(u["default"]);p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",d["default"].registerComponent("VolumeBar",p),t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(l["default"]);l["default"].registerComponent("VolumeLevel",u),t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(17),u=i(l),c=r(16),d=n(c),h=r(79),f=n(h),p=r(80),y=n(p),v=r(81),g=n(v),m=r(76),_=n(m),b=function(e){function t(r){function n(){r.tech_&&r.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical;var s=a(this,e.call(this,r,i));return s.on(r,"volumechange",s.volumeUpdate),s.on(r,"loadstart",s.volumeUpdate),n.call(s),s.on(r,"loadstart",n),s.on(s.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),s.on(s.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),s.on(s.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),s.on(s.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),s}return s(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new f["default"](this.player_,{contentElType:"div"}),t=new _["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){g["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],u.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove)),
this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(y["default"]);b.prototype.volumeUpdate=g["default"].prototype.update,b.prototype.controlText_="Mute",d["default"].registerComponent("VolumeMenuButton",b),t["default"]=b},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(17),f=n(h),p=r(8),y=n(p),v=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",f.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=d.createEl(t,{className:"vjs-menu-content"});var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),y.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t}(u["default"]);u["default"].registerComponent("Popup",v),t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(52),l=n(s),u=r(16),c=n(u),d=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var a=o(this,e.call(this,r,n));return a.update(),a}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);c["default"].registerComponent("PopupButton",d),t["default"]=d},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(56),u=i(l),c=r(16),d=i(c),h=r(9),f=n(h),p=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.on(r,"volumechange",i.update),r.tech_&&r.tech_.featuresVolumeControl===!1&&i.addClass("vjs-hidden"),i.on(r,"loadstart",function(){this.update(),r.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),i}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),r=3;0===t||this.player_.muted()?r=0:t<.33?r=1:t<.67&&(r=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var i=0;i<4;i++)f.removeElClass(this.el_,"vjs-vol-"+i);f.addElClass(this.el_,"vjs-vol-"+r)},t}(u["default"]);p.prototype.controlText_="Mute",d["default"].registerComponent("MuteToggle",p),t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(83),l=n(s),u=r(16),c=n(u),d=r(90),h=n(d),f=r(18),p=n(f),y=function(e){function t(r,n,a){i(this,t);var s=o(this,e.call(this,r,n,a));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,p["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new h["default"](this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(l["default"]);y.prototype.kind_="chapters",y.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",y),t["default"]=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(84),l=n(s),u=r(16),c=n(u),d=r(87),h=n(d),f=r(89),p=n(f),y=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),n.tracks=r.textTracks(),o(this,e.call(this,r,n))}return a(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new p["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];n.kind===this.kind_&&e.push(new h["default"](this.player_,{track:n,selectable:!0}))}return e},t}(l["default"]);c["default"].registerComponent("TextTrackButton",y),t["default"]=y},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(85),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=function(e){function t(r,n){o(this,t);var i=n.tracks,s=a(this,e.call(this,r,n));if(s.items.length<=1&&s.hide(),!i)return a(s);var l=f.bind(s,s.update);return i.addEventListener("removetrack",l),i.addEventListener("addtrack",l),s.player_.on("dispose",function(){i.removeEventListener("removetrack",l),i.removeEventListener("addtrack",l)}),s}return s(t,e),t}(u["default"]);d["default"].registerComponent("TrackButton",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(52),u=i(l),c=r(16),d=i(c),h=r(86),f=i(h),p=r(9),y=n(p),v=r(17),g=n(v),m=r(18),_=i(m),b=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=a(this,e.call(this,r,n));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return s(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new f["default"](this.player_);if(this.options_.title){var t=y.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_["default"])(this.options_.title),tabIndex:-1});e.children_.unshift(t),y.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(u["default"]);d["default"].registerComponent("MenuButton",b),t["default"]=b},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(16),u=i(l),c=r(9),d=n(c),h=r(17),f=n(h),p=r(8),y=n(p),v=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return s(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",f.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=d.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.setAttribute("role","presentation"),r.appendChild(this.contentEl_),y.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),r=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);r&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(u["default"]);u["default"].registerComponent("Menu",v),t["default"]=v},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(88),c=i(u),d=r(16),h=i(d),f=r(17),p=n(f),y=r(4),v=i(y),g=r(5),m=i(g),_=function(e){function t(r,n){o(this,t);var i=n.track,s=r.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i["default"]||"showing"===i.mode;var u=a(this,e.call(this,r,n));return u.track=i,s&&!function(){var e=p.bind(u,u.handleTracksChange);s.addEventListener("change",e),u.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&!function(){var e=void 0;u.on(["tap","click"],function(){if("object"!==l(v["default"].Event))try{e=new v["default"].Event("change")}catch(t){}e||(e=m["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}(),u}return s(t,e),t.prototype.handleClick=function(t){var r=this.track.kind,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var i=0;i<n.length;i++){var o=n[i];o.kind===r&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(c["default"]);h["default"].registerComponent("TextTrackMenuItem",_),t["default"]=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(52),l=n(s),u=r(16),c=n(u),d=r(13),h=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return a.selectable=n.selectable,a.selected(n.selected),a.selectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitem"),a}return a(t,e),t.prototype.createEl=function(t,r,n){return e.prototype.createEl.call(this,"li",(0,d.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},r),n)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(l["default"]);c["default"].registerComponent("MenuItem",h),t["default"]=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(87),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t),n.track={player:r,kind:n.kind,label:n.kind+" off","default":!1,mode:"disabled"},n.selectable=!0;var a=o(this,e.call(this,r,n));return a.selected(!0),a}return a(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind===this.track.kind&&"showing"===o.mode){r=!1;break}}this.selected(r)},t}(l["default"]);c["default"].registerComponent("OffTextTrackMenuItem",d),t["default"]=d},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(88),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=function(e){function t(r,n){o(this,t);var i=n.track,s=n.cue,l=r.currentTime();n.selectable=!0,n.label=s.text,n.selected=s.startTime<=l&&l<s.endTime;var u=a(this,e.call(this,r,n));return u.track=i,u.cue=s,i.addEventListener("cuechange",f.bind(u,u.update)),u}return s(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},t}(u["default"]);d["default"].registerComponent("ChaptersTrackMenuItem",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(83),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=function(e){function t(r,n,i){o(this,t);var s=a(this,e.call(this,r,n,i));s.el_.setAttribute("aria-label","Descriptions Menu");var l=r.textTracks();return l&&!function(){var e=f.bind(s,s.handleTracksChange);l.addEventListener("change",e),s.on("dispose",function(){l.removeEventListener("change",e)})}(),s}return s(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);p.prototype.kind_="descriptions",p.prototype.controlText_="Descriptions",d["default"].registerComponent("DescriptionsButton",p),t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(83),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n,a){i(this,t);var s=o(this,e.call(this,r,n,a));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);d.prototype.kind_="subtitles",d.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(83),l=n(s),u=r(16),c=n(u),d=r(94),h=n(d),f=function(e){function t(r,n,a){i(this,t);var s=o(this,e.call(this,r,n,a));return s.el_.setAttribute("aria-label","Captions Menu"),s}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){var r=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(r=1),this.items&&this.items.length>r?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new h["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(l["default"]);f.prototype.kind_="captions",f.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",f),t["default"]=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(87),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t),n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},n.selectable=!1;var a=o(this,e.call(this,r,n));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+n.kind+" settings dialog"),a}return a(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(l["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(84),l=n(s),u=r(16),c=n(u),d=r(96),h=n(d),f=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),n.tracks=r.audioTracks&&r.audioTracks();var a=o(this,e.call(this,r,n));return a.el_.setAttribute("aria-label","Audio Menu"),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];e.push(new h["default"](this.player_,{track:n,selectable:!0}))}return e},t}(l["default"]);f.prototype.controlText_="Audio Track",c["default"].registerComponent("AudioTrackButton",f),t["default"]=f},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(88),u=i(l),c=r(16),d=i(c),h=r(17),f=n(h),p=function(e){function t(r,n){o(this,t);var i=n.track,s=r.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled;var l=a(this,e.call(this,r,n));return l.track=i,s&&!function(){var e=f.bind(l,l.handleTracksChange);s.addEventListener("change",e),l.on("dispose",function(){s.removeEventListener("change",e)})}(),l}return s(t,e),t.prototype.handleClick=function(t){var r=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),r)for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(u["default"]);d["default"].registerComponent("AudioTrackMenuItem",p),t["default"]=p},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(85),u=i(l),c=r(86),d=i(c),h=r(98),f=i(h),p=r(16),y=i(p),v=r(9),g=n(v),m=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.updateVisibility(),
i.updateLabel(),i.on(r,"loadstart",i.updateVisibility),i.on(r,"ratechange",i.updateLabel),i}return s(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new d["default"](this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new f["default"](this.player(),{rate:t[r]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(u["default"]);m.prototype.controlText_="Playback Rate",y["default"].registerComponent("PlaybackRateMenuButton",m),t["default"]=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(88),l=n(s),u=r(16),c=n(u),d=function(e){function t(r,n){i(this,t);var a=n.rate,s=parseFloat(a,10);n.label=a,n.selected=1===s;var l=o(this,e.call(this,r,n));return l.label=a,l.rate=s,l.on(r,"ratechange",l.update),l}return a(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(l["default"]);d.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(100),l=n(s),u=r(16),c=n(u),d=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(l["default"]);c["default"].registerComponent("CustomControlSpacer",d),t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(l["default"]);l["default"].registerComponent("Spacer",u),t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(16),l=n(s),u=r(28),c=n(u),d=r(19),h=n(d),f=function(e){function t(r,n){i(this,t);var a=o(this,e.call(this,r,n));return a.on(r,"error",a.open),a}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c["default"]);f.prototype.options_=(0,h["default"])(c["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",f),t["default"]=f},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function u(e,t){var r=e.options[e.options.selectedIndex].value;return l(r,t)}function c(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(l(e.options[n].value,r)===t){e.selectedIndex=n;break}}t.__esModule=!0;var d=r(4),h=i(d),f=r(16),p=i(f),y=r(9),v=r(17),g=n(v),m=r(13),_=n(m),b=r(11),E=i(b),T="vjs-text-track-settings",w=["#000","Black"],k=["#00F","Blue"],S=["#0FF","Cyan"],C=["#0F0","Green"],O=["#F0F","Magenta"],A=["#F00","Red"],R=["#FFF","White"],P=["#FF0","Yellow"],L=["1","Opaque"],x=["0.5","Semi-Transparent"],D=["0","Transparent"],j={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[w,R,A,C,k,P,O,S]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[L,x,D]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[R,w,A,C,k,P,O,S]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[L,x]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[D,x,L]}};j.windowColor.options=j.backgroundColor.options;var M=function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.setDefaults(),i.hide(),i.updateDisplay=g.bind(i,i.updateDisplay),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),_.each(j,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return s(t,e),t.prototype.createElSelect_=function(e){var t=this,r=j[e],n=r.id.replace("%s",this.id_);return[(0,y.createEl)("label",{className:"vjs-label",textContent:r.label},{"for":n}),(0,y.createEl)("select",{id:n},void 0,r.options.map(function(e){return(0,y.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),r=(0,y.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,r))},t.prototype.createElBgColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),r=(0,y.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,r))},t.prototype.createElWinColor_=function(){var e=(0,y.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),r=(0,y.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,r))},t.prototype.createElColors_=function(){return(0,y.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,y.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,y.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),r=(0,y.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,y.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,r])},t.prototype.createElControls_=function(){var e=(0,y.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,y.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,y.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},t.prototype.createEl=function(){var e=(0,y.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),r=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),n=(0,y.createEl)("div",void 0,{role:"document"},[t,r,e]);return(0,y.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":r.id},n)},t.prototype.getValues=function(){var e=this;return _.reduce(j,function(t,r,n){var i=u(e.$(r.selector),r.parser);return void 0!==i&&(t[n]=i),t},{})},t.prototype.setValues=function(e){var t=this;_.each(j,function(r,n){c(t.$(r.selector),e[n],r.parser)})},t.prototype.setDefaults=function(){var e=this;_.each(j,function(t){var r=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=r})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(h["default"].localStorage.getItem(T))}catch(t){E["default"].warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?h["default"].localStorage.setItem(T,JSON.stringify(e)):h["default"].localStorage.removeItem(T)}catch(t){E["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(p["default"]);p["default"].registerComponent("TextTrackSettings",M),t["default"]=M},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),d=r(29),h=i(d),f=r(16),p=i(f),y=r(9),v=n(y),g=r(35),m=n(g),_=r(17),b=n(_),E=r(11),T=i(E),w=r(14),k=i(w),S=r(12),C=n(S),O=r(5),A=i(O),R=r(4),P=i(R),L=r(13),x=r(19),D=i(x),j=r(18),M=i(j),I=function(e){function t(r,n){a(this,t);var i=s(this,e.call(this,r,n)),o=r.source,l=!1;if(o&&(i.el_.currentSrc!==o.src||r.tag&&3===r.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var u=i.el_.childNodes,d=u.length,h=[];d--;){var f=u[d],p=f.nodeName.toLowerCase();"track"===p&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(f),i.remoteTextTracks().addTrack_(f.track),l||i.el_.hasAttribute("crossorigin")||!m.isCrossOrigin(f.src)||(l=!0)):h.push(f))}for(var y=0;y<h.length;y++)i.el_.removeChild(h[y])}var v=["audio","video"];return v.forEach(function(e){var t=i.el()[e+"Tracks"],r=i[e+"Tracks"](),n=(0,M["default"])(e);i["featuresNative"+n+"Tracks"]&&t&&t.addEventListener&&(i["handle"+n+"TrackChange_"]=function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},i["handle"+n+"TrackAdd_"]=function(e){return r.addTrack(e.track)},i["handle"+n+"TrackRemove_"]=function(e){return r.removeTrack(e.track)},t.addEventListener("change",i["handle"+n+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+n+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+n+"TrackRemove_"]),i["removeOld"+n+"Tracks_"]=function(e){return i.removeOldTracks_(r,t)},i.on("loadstart",i["removeOld"+n+"Tracks_"]))}),i.featuresNativeTextTracks&&(l&&T["default"].warn((0,k["default"])(c)),i.handleTextTrackChange_=b.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=b.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=b.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),(C.TOUCH_ENABLED||C.IS_IPHONE||C.IS_NATIVE_ANDROID)&&r.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return l(t,e),t.prototype.dispose=function(){var r=this;["audio","video","text"].forEach(function(e){var t=(0,M["default"])(e),n=r.el_[e+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",r["handle"+t+"TrackChange_"]),n.removeEventListener("addtrack",r["handle"+t+"TrackAdd_"]),n.removeEventListener("removetrack",r["handle"+t+"TrackRemove_"])),n&&r.off("loadstart",r["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1){if(e){var r=e.cloneNode(!0);e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=A["default"].createElement("video");var n=this.options_.tag&&v.getElAttributes(this.options_.tag),i=(0,D["default"])({},n);C.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,v.setElAttributes(e,(0,L.assign)(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),v.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var r=function(){var e=!1,r=function(){e=!0};t.on("loadstart",r);var n=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",n),t.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),e||this.trigger("loadstart")}),{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":u(r)))return r.v}var n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var r=[];if(t){for(var n=0;n<e.length;n++){for(var i=e[n],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||r.push(i)}for(var s=0;s<r.length;s++){var l=r[s];e.removeTrack_(l)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),r=this.el().textTracks;this.removeOldTracks_(t,r)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){(0,T["default"])(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&C.IS_ANDROID&&C.IS_CHROME&&0===this.el_.currentTime){var t=function(){var t=function r(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",r))};return e.on("timeupdate",t),{v:NaN}}();if("object"===("undefined"==typeof t?"undefined":u(t)))return t.v}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=P["default"].navigator&&P["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var r=A["default"].createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t["default"]&&(r["default"]=t["default"]),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},t.prototype.addRemoteTextTrack=function(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},t}(h["default"]);I.TEST_VID=A["default"].createElement("video");var N=A["default"].createElement("track");N.kind="captions",N.srclang="en",N.label="English",I.TEST_VID.appendChild(N),I.isSupported=function(){try{I.TEST_VID.volume=.5}catch(e){return!1}return!!I.TEST_VID.canPlayType},I.canControlVolume=function(){try{var e=I.TEST_VID.volume;return I.TEST_VID.volume=e/2+.1,e!==I.TEST_VID.volume}catch(t){return!1}},I.canControlPlaybackRate=function(){if(C.IS_ANDROID&&C.IS_CHROME)return!1;try{var e=I.TEST_VID.playbackRate;return I.TEST_VID.playbackRate=e/2+.1,e!==I.TEST_VID.playbackRate}catch(t){return!1}},I.supportsNativeTextTracks=function(){return C.IS_ANY_SAFARI},I.supportsNativeVideoTracks=function(){var e=!!I.TEST_VID.videoTracks;return e},I.supportsNativeAudioTracks=function(){var e=!!I.TEST_VID.audioTracks;return e},I.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],I.prototype.featuresVolumeControl=I.canControlVolume(),I.prototype.featuresPlaybackRate=I.canControlPlaybackRate(),I.prototype.movingMediaElementInDOM=!C.IS_IOS,I.prototype.featuresFullscreenResize=!0,I.prototype.featuresProgressEvents=!0,I.prototype.featuresTimeupdateEvents=!0,I.prototype.featuresNativeTextTracks=I.supportsNativeTextTracks(),I.prototype.featuresNativeVideoTracks=I.supportsNativeVideoTracks(),I.prototype.featuresNativeAudioTracks=I.supportsNativeAudioTracks();var F=void 0,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,U=/^video\/mp4/i;I.patchCanPlayType=function(){C.ANDROID_VERSION>=4&&!C.IS_FIREFOX&&(F||(F=I.TEST_VID.constructor.prototype.canPlayType),I.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&B.test(e)?"maybe":F.call(this,e)}),C.IS_OLD_ANDROID&&(F||(F=I.TEST_VID.constructor.prototype.canPlayType),I.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&U.test(e)?"maybe":F.call(this,e)})},I.unpatchCanPlayType=function(){var e=I.TEST_VID.constructor.prototype.canPlayType;return I.TEST_VID.constructor.prototype.canPlayType=F,F=null,e},I.patchCanPlayType(),I.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},I.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){I.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){I.prototype["set"+(0,M["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){I.prototype[e]=function(){return this.el_[e]()}}),h["default"].withSourceHandlers(I),I.nativeSourceHandler={},I.nativeSourceHandler.canPlayType=function(e){try{return I.TEST_VID.canPlayType(e)}catch(t){return""}},I.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return I.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=m.getFileExtension(e.src);return I.nativeSourceHandler.canPlayType("video/"+r)}return""},I.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},I.nativeSourceHandler.dispose=function(){},I.registerSourceHandler(I.nativeSourceHandler),p["default"].registerComponent("Html5",I),h["default"].registerTech("Html5",I),t["default"]=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(21),o=n(i),a=function(e,t){o["default"].prototype[e]=t};t["default"]=a},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(33),u=r(34),c=i(u),d=r(19),h=i(d),f=r(12),p=n(f),y=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,h["default"])(i,{kind:l.AudioTrackKind[i.kind]||""}),u=r=a(this,e.call(this,s)),c=!1;if(p.IS_IE8)for(var d in t.prototype)"constructor"!==d&&(u[d]=t.prototype[d]);return Object.defineProperty(u,"enabled",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.loaded_=!0,n=u,a(r,n)}return s(t,e),t}(c["default"]);t["default"]=y},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=r(33),u=r(34),c=i(u),d=r(19),h=i(d),f=r(12),p=n(f),y=function(e){function t(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var s=(0,h["default"])(i,{kind:l.VideoTrackKind[i.kind]||""}),u=r=a(this,e.call(this,s)),c=!1;if(p.IS_IE8)for(var d in t.prototype)"constructor"!==d&&(u[d]=t.prototype[d]);return Object.defineProperty(u,"selected",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),n=u,a(r,n)}return s(t,e),t}(c["default"]);t["default"]=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(11),a=n(o),s=r(13),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){e.apply(this,arguments)},n={};(0,s.isObject)(t)?("function"==typeof t.init&&(a["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),l(r,e);for(var i in n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r};t["default"]=u},function(e,t){!function(e,t,r){"use strict";var n=t.getComponent("Html5").Events,i=function(t){t.ads.cancelPlayTimeout||(t.ads.cancelPlayTimeout=e.setTimeout(function(){t.ads.cancelPlayTimeout=null,t.paused()||t.pause(),t.one("contentplayback",function(){t.paused()&&t.play()})},1))},o=function(e){var t,r,n=e.$(".vjs-tech"),i=e.remoteTextTracks?e.remoteTextTracks():[],o=[],a={ended:e.ended(),currentSrc:e.currentSrc(),src:e.src(),currentTime:e.currentTime(),type:e.currentType()};for(n&&(a.nativePoster=n.poster,a.style=n.getAttribute("style")),r=i.length;r--;)t=i[r],o.push({track:t,mode:t.mode}),t.mode="disabled";return a.suppressedTracks=o,a},a=function(n,i){var o,a,s=n.$(".vjs-tech"),l=20,u=i.suppressedTracks,c=function(){for(var e=u.length;e--;)o=u[e],o.track.mode=o.mode},d=function(){var t=!1,r=function(){t=!0};n.currentTime(i.currentTime),i.ended?(n.ads.resumeEndedTimeout=e.setTimeout(function(){t||n.play(),n.off("ended",r),n.ads.resumeEndedTimeout=null},250),n.on("ended",r),n.on("dispose",function(){e.clearTimeout(n.ads.resumeEndedTimeout)})):n.play()},h=function(){
return n.off("contentcanplay",h),n.ads.tryToResumeTimeout_&&(n.clearTimeout(n.ads.tryToResumeTimeout_),n.ads.tryToResumeTimeout_=null),s=n.el().querySelector(".vjs-tech"),s.readyState>1?d():s.seekable===r?d():s.seekable.length>0?d():void(l--?e.setTimeout(h,50):!function(){try{d()}catch(e){t.log.warn("Failed to resume the content after an advertisement",e)}}())};i.nativePoster&&(s.poster=i.nativePoster),"style"in i&&s.setAttribute("style",i.style||""),a=n.src()!==i.src||n.currentSrc()!==i.currentSrc,a?(n.one("contentloadedmetadata",c),n.src({src:i.currentSrc,type:i.type}),n.load(),n.one("contentcanplay",h),n.ads.tryToResumeTimeout_=n.setTimeout(h,2e3)):n.ended()&&i.ended||(c(),n.play())},s=function(e){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},l={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:!1},u=function(r){var u,c=this,d=t.mergeOptions(l,r);!function(){var e=n.concat(["firstplay","loadedalldata"]),t=function(){return!0},r=function(e,r){r.isImmediatePropagationStopped=t,r.cancelBubble=!0,r.isPropagationStopped=t,c.trigger({type:e+r.type,state:c.ads.state,originalEvent:r})};c.on(e,function(e){if("ad-playback"===c.ads.state)r("ad",e);else if("content-playback"===c.ads.state&&"ended"===e.type)r("content",e);else if("content-resuming"===c.ads.state){if(c.ads.snapshot){if(c.currentSrc()!==c.ads.snapshot.currentSrc){if("loadstart"===e.type)return;return r("content",e)}if(c.ads.snapshot.ended)return"pause"===e.type||"ended"===e.type?void c.addClass("vjs-has-started"):r("content",e)}"playing"!==e.type&&r("content",e)}})}(),c.on(["addurationchange","adcanplay"],function(){c.currentSrc()!==c.ads.snapshot.currentSrc&&c.play()}),c.ads={state:"content-set",startLinearAdMode:function(){"preroll?"!==c.ads.state&&"content-playback"!==c.ads.state&&"postroll?"!==c.ads.state||c.trigger("adstart")},endLinearAdMode:function(){"ad-playback"===c.ads.state&&c.trigger("adend")},skipLinearAdMode:function(){"ad-playback"!==c.ads.state&&c.trigger("adskip")}},u=function(r){var n={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",i(c),s(c)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?",i(c)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){c.addClass("vjs-ad-loading"),c.ads.adTimeoutTimeout=e.setTimeout(function(){c.trigger("adtimeout")},d.prerollTimeout),c.trigger("readyforpreroll")},leave:function(){e.clearTimeout(c.ads.adTimeoutTimeout),c.removeClass("vjs-ad-loading")},events:{play:function(){i(c)},adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){c.addClass("vjs-ad-loading"),c.ads.adTimeoutTimeout=e.setTimeout(function(){c.trigger("adtimeout")},d.timeout)},leave:function(){e.clearTimeout(c.ads.adTimeoutTimeout),c.removeClass("vjs-ad-loading")},events:{play:function(){i(c)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){this.snapshot=o(c),c.addClass("vjs-ad-playing"),s(c),c.ads.cancelPlayTimeout&&(e.clearTimeout(c.ads.cancelPlayTimeout),c.ads.cancelPlayTimeout=null)},leave:function(){c.removeClass("vjs-ad-playing"),a(c,this.snapshot),"adend"!==c.ads.triggerevent&&c.trigger("adend")},events:{adend:function(){this.state="content-resuming"},adserror:function(){this.state="content-resuming"}}},"content-resuming":{enter:function(){this.snapshot.ended&&(e.clearTimeout(c.ads._fireEndedTimeout),c.ads._fireEndedTimeout=e.setTimeout(function(){c.trigger("ended")},1e3))},leave:function(){e.clearTimeout(c.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){this.snapshot=o(c),c.addClass("vjs-ad-loading"),c.ads.adTimeoutTimeout=e.setTimeout(function(){c.trigger("adtimeout")},d.postrollTimeout)},leave:function(){e.clearTimeout(c.ads.adTimeoutTimeout),c.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-resuming",e.setTimeout(function(){c.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming",e.setTimeout(function(){c.trigger("ended")},1)},adserror:function(){this.state="content-resuming",e.setTimeout(function(){c.trigger("ended")},1)}}},"content-playback":{enter:function(){c.ads.cancelPlayTimeout&&(e.clearTimeout(c.ads.cancelPlayTimeout),c.ads.cancelPlayTimeout=null),c.trigger({type:"contentplayback",triggerevent:c.ads.triggerevent})},events:{adsready:function(){c.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback"},contentupdate:function(){c.paused()?this.state="content-set":this.state="ads-ready?"},contentended:function(){this.state="postroll?"}}}};!function(e){var i=function(){};((n[e].events||{})[r.type]||i).apply(c.ads),e!==c.ads.state&&(c.ads.triggerevent=r.type,(n[e].leave||i).apply(c.ads),(n[c.ads.state].enter||i).apply(c.ads),d.debug&&t.log("ads",c.ads.triggerevent+" triggered: "+e+" -> "+c.ads.state))}(c.ads.state)},c.on(n.concat(["adtimeout","contentupdate","contentplaying","contentended","contentresumed","adsready","adserror","adscanceled","adstart","adend","adskip"]),u),c.ads.contentSrc=c.currentSrc(),function(){var t=function(){var e;"ad-playback"!==c.ads.state&&(e=c.currentSrc(),e!==c.ads.contentSrc&&(c.trigger({type:"contentupdate",oldValue:c.ads.contentSrc,newValue:e}),c.ads.contentSrc=e))};c.on("loadstart",t),e.setTimeout(t,1)}(),c.paused()||u({type:"play"})};t.plugin("ads",u)}(window,videojs)},function(e,t){!function(e){"use strict";var t=function(e){var t,r,n;for(r=1;r<arguments.length;r++){t=arguments[r];for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}return e},r={debug:!1,timeout:5e3,prerollTimeout:100,adLabel:"Advertisement",showControlsForJSAds:!0},n=function(e,t){this.ima=new i(this,e,t)},i=function(e,n,i){this.player=e;var o=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t}.bind(this),a=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},s=function(e,t){return a(t).test(e.className)?e:e.className=e.className.trim()+" "+t},l=function(e,t){var r=a(t);return r.test(e.className)?e.className=e.className.trim().replace(r,""):e},u=function(){this.vjsControls=this.player.getChild("controlBar"),this.adContainerDiv=this.vjsControls.el().parentNode.appendChild(document.createElement("div")),o(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",b,!1),this.adContainerDiv.addEventListener("mouseleave",_,!1),c(),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainerDiv,this.contentPlayer)}.bind(this),c=function(){this.controlsDiv=document.createElement("div"),o(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.countdownDiv=document.createElement("div"),o(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.settings.adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.seekBarDiv=document.createElement("div"),o(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.progressDiv=document.createElement("div"),o(this.progressDiv,"ima-progress-div"),this.playPauseDiv=document.createElement("div"),o(this.playPauseDiv,"ima-play-pause-div"),s(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",w,!1),this.muteDiv=document.createElement("div"),o(this.muteDiv,"ima-mute-div"),s(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",k,!1),this.sliderDiv=document.createElement("div"),o(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",S,!1),this.sliderLevelDiv=document.createElement("div"),o(this.sliderLevelDiv,"ima-slider-level-div"),this.fullscreenDiv=document.createElement("div"),o(this.fullscreenDiv,"ima-fullscreen-div"),s(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",R,!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)}.bind(this);this.initializeAdDisplayContainer=function(){this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize()}.bind(this),this.requestAds=function(){this.adDisplayContainerInitialized||this.adDisplayContainer.initialize();var e=new google.ima.AdsRequest;this.settings.adTagUrl?e.adTagUrl=this.settings.adTagUrl:e.adsResponse=this.settings.adsResponse,this.settings.forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),e.linearAdSlotWidth=this.getPlayerWidth(),e.linearAdSlotHeight=this.getPlayerHeight(),e.nonLinearAdSlotWidth=this.settings.nonLinearWidth||this.getPlayerWidth(),e.nonLinearAdSlotHeight=this.settings.nonLinearHeight||this.getPlayerHeight()/3,this.adsLoader.requestAds(e)}.bind(this);var d=function(e){if(this.adsManager=e.getAdsManager(this.contentPlayheadTracker,this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,f),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,p),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,y),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,v),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,g),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,w),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete_),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete_),!this.autoPlayAdBreaks)try{var t=this.getPlayerWidth(),r=this.getPlayerHeight();this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=r,this.adsManager.init(t,r,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.player.muted()?0:this.player.volume())}catch(n){f(n)}this.player.trigger("adsready")}.bind(this);this.start=function(){window.console.log("WARNING: player.ima.start is deprecated. Use player.ima.startFromReadyCallback instead.")},this.startFromReadyCallback=function(){if(this.autoPlayAdBreaks)try{this.adsManager.init(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.player.muted()?0:this.player.volume()),this.adsManager.start()}catch(e){f(e)}}.bind(this);var h=function(e){window.console.log("AdsLoader error: "+e.getError()),this.adContainerDiv.style.display="none",this.adsManager&&this.adsManager.destroy(),this.player.trigger({type:"adserror",data:{AdError:e.getError(),AdErrorEvent:e}})}.bind(this),f=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.log("Ad error: "+t),this.vjsControls.show(),this.adsManager.destroy(),this.adContainerDiv.style.display="none",this.player.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})}.bind(this),p=function(e){this.adBreakReadyListener(e)}.bind(this);this.playAdBreak=function(){this.autoPlayAdBreaks||this.adsManager.start()}.bind(this),this.onContentPauseRequested_=function(e){this.adsActive=!0,this.adPlaying=!0,this.contentSource=this.player.currentSrc(),this.player.off("ended",this.localContentEndedListener),e.getAd().getAdPodInfo().getPodIndex()!=-1&&this.player.ads.startLinearAdMode(),this.adContainerDiv.style.display="block";var t=e.getAd().getContentType();"application/javascript"!==t||this.settings.showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.vjsControls.hide(),T(),this.player.pause()}.bind(this),this.onContentResumeRequested_=function(e){this.adsActive=!1,this.adPlaying=!1,this.player.on("ended",this.localContentEndedListener),(null==this.currentAd||this.currentAd.isLinear())&&(this.adContainerDiv.style.display="none"),this.vjsControls.show(),this.currentAd?this.contentComplete||this.currentAd.getAdPodInfo().getPodIndex()==-1||this.player.ads.endLinearAdMode():this.player.ads.endLinearAdMode(),this.countdownDiv.innerHTML=""}.bind(this);var y=function(e){if(this.allAdsCompleted=!0,this.adContainerDiv.style.display="none",1==this.contentComplete){this.contentPlayer.src!=this.contentSource&&this.player.src(this.contentSource);for(var t in this.contentAndAdsEndedListeners)this.contentAndAdsEndedListeners[t]()}}.bind(this),v=function(e){e.getAd().isLinear()||this.player.play()}.bind(this),g=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(m,250),l(this.adContainerDiv,"bumpable-ima-ad-container")):s(this.adContainerDiv,"bumpable-ima-ad-container")}.bind(this);this.onAdComplete_=function(e){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)}.bind(this);var m=function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),r=t-e;r=r>0?r:0;var n,i=!1,o=0;this.currentAd.getAdPodInfo()&&(i=!0,n=this.currentAd.getAdPodInfo().getAdPosition(),o=this.currentAd.getAdPodInfo().getTotalAds());var a=Math.floor(e/60),s=Math.floor(e%60);s.toString().length<2&&(s="0"+s);var l=": ";i&&o>1&&(l=" ("+n+" of "+o+"): "),this.countdownDiv.innerHTML=this.settings.adLabel+l+a+":"+s;var u=r/t,c=100*u;this.progressDiv.style.width=c+"%"}.bind(this);this.getPlayerWidth=function(){var e=parseInt(getComputedStyle(this.player.el()).width,10)||this.player.width();return e}.bind(this),this.getPlayerHeight=function(){var e=parseInt(getComputedStyle(this.player.el()).height,10)||this.player.height();return e}.bind(this);var _=function(){this.controlsDiv.style.height="14px",this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"}.bind(this),b=function(){this.controlsDiv.style.height="37px",this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.sliderDiv.style.display="block",this.fullscreenDiv.style.display="block"}.bind(this),E=function(){s(this.playPauseDiv,"ima-paused"),l(this.playPauseDiv,"ima-playing")}.bind(this),T=function(){s(this.playPauseDiv,"ima-playing"),l(this.playPauseDiv,"ima-paused")}.bind(this),w=function(){this.adPlaying?(E(),this.adsManager.pause(),this.adPlaying=!1):(T(),this.adsManager.resume(),this.adPlaying=!0)}.bind(this),k=function(){this.adMuted?(s(this.muteDiv,"ima-non-muted"),l(this.muteDiv,"ima-muted"),this.adsManager.setVolume(1),this.player.muted(!1),this.adMuted=!1,this.sliderLevelDiv.style.width=100*this.player.volume()+"%"):(s(this.muteDiv,"ima-muted"),l(this.muteDiv,"ima-non-muted"),this.adsManager.setVolume(0),this.player.muted(!0),this.adMuted=!0,this.sliderLevelDiv.style.width="0%")}.bind(this),S=function(){document.addEventListener("mouseup",O,!1),document.addEventListener("mousemove",C,!1)},C=function(e){A(e)},O=function(e){A(e),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",O)},A=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",this.player.volume(t/100),this.adsManager.setVolume(t/100),0==this.player.volume()?(s(this.muteDiv,"ima-muted"),l(this.muteDiv,"ima-non-muted"),this.player.muted(!0),this.adMuted=!0):(s(this.muteDiv,"ima-non-muted"),l(this.muteDiv,"ima-muted"),this.player.muted(!1),this.adMuted=!1)}.bind(this),R=function(){this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen()}.bind(this),P=function(){this.player.isFullscreen()?(s(this.fullscreenDiv,"ima-fullscreen"),l(this.fullscreenDiv,"ima-non-fullscreen"),this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(s(this.fullscreenDiv,"ima-non-fullscreen"),l(this.fullscreenDiv,"ima-fullscreen"),this.adsManager&&this.adsManager.resize(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL))}.bind(this),L=function(){var e=this.player.muted()?0:this.player.volume();this.adsManager&&this.adsManager.setVolume(e),0==e?(this.adMuted=!0,s(this.muteDiv,"ima-muted"),l(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.adMuted=!1,s(this.muteDiv,"ima-non-muted"),l(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")}.bind(this),x=function(){this.player.off("loadedmetadata",x),this.player.currentTime(0)}.bind(this),D=function(){this.player.off("loadedmetadata",D),this.player.currentTime(0),this.player.play()}.bind(this),j=function(){this.adsActive=!1,this.adPlaying=!1,this.player.on("ended",this.localContentEndedListener),this.currentAd&&this.currentAd.isLinear()&&(this.adContainerDiv.style.display="none"),this.vjsControls.show(),this.player.ads.endLinearAdMode(),this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentComplete&&this.adsLoader.contentComplete(),this.contentComplete=!1,this.allAdsCompleted=!1}.bind(this);this.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)}.bind(this),this.getAdsManager=function(){return this.adsManager}.bind(this),this.setContent=function(e,t,r){window.console.log("WARNING: player.ima.setContent is deprecated. Use player.ima.setContentWithAdTag instead."),this.setContentWithAdTag(e,t,r)}.bind(this),this.setContentWithAdTag=function(e,t,r){j(),this.settings.adTagUrl=t?t:this.settings.adTagUrl,M(e,r)}.bind(this),this.setContentWithAdsResponse=function(e,t,r){j(),this.settings.adsResponse=t?t:this.settings.adsResponse,M(e,r)}.bind(this);var M=function(e,t){this.player.currentSrc()&&(this.player.currentTime(0),this.player.pause()),e&&this.player.src(e),t?this.player.on("loadedmetadata",D):this.player.on("loadedmetadata",x)}.bind(this);this.addContentEndedListener=function(e){this.contentEndedListeners.push(e)}.bind(this),this.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)}.bind(this),this.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e}.bind(this),this.pauseAd=function(){this.adsActive&&this.adPlaying&&(E(),this.adsManager.pause(),this.adPlaying=!1)}.bind(this),this.resumeAd=function(){this.adsActive&&!this.adPlaying&&(T(),this.adsManager.resume(),this.adPlaying=!0)}.bind(this);var I=function(){this.updateTimeIntervalHandle=setInterval(N,this.seekCheckInterval),this.seekCheckIntervalHandle=setInterval(F,this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(B,this.resizeCheckInterval)}.bind(this),N=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.player.currentTime())}.bind(this),F=function(){var e=this.player.currentTime(),t=1e3*(e-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.player.currentTime()}.bind(this),B=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();!this.adsManager||e==this.adsManagerDimensions.width&&t==this.adsManagerDimensions.height||(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))}.bind(this);if(this.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"}.bind(this),this.VERSION="0.2.0",this.settings,this.controlPrefix,this.contentPlayer,this.showCountdown,this.autoPlayAdBreaks,this.vjsControls,this.adContainerDiv,this.controlsDiv,this.countdownDiv,this.seekBarDiv,this.progressDiv,this.playPauseDiv,this.muteDiv,this.sliderDiv,this.sliderLevelDiv,this.fullscreenDiv,this.adDisplayContainer,this.adDisplayContainerInitialized=!1,this.adsLoader,this.adsManager,this.adsRenderingSettings=null,this.adTagUrl,this.adsResponse,this.currentAd,this.contentTrackingTimer,this.adTrackingTimer,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.contentComplete=!1,this.allAdsCompleted=!1,this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.adsManagerDimensions={width:0,height:0},this.contentEndedListeners=[],this.contentAndAdsEndedListeners=[],this.adBreakReadyListener=void 0,this.contentSource="",this.localContentEndedListener=function(){this.adsLoader&&!this.contentComplete&&(this.adsLoader.contentComplete(),this.contentComplete=!0);for(var e in this.contentEndedListeners)this.contentEndedListeners[e]();if(this.allAdsCompleted)for(var e in this.contentAndAdsEndedListeners)this.contentAndAdsEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.player.el()&&this.player.one("play",I)}.bind(this),this.playerDisposedListener=function(){this.contentEndedListeners,this.contentAndAdsEndedListeners=[],[],this.contentComplete=!0,this.player.off("ended",this.localContentEndedListener),this.player.ads.adTimeoutTimeout&&clearTimeout(this.player.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.adTrackingTimer,this.resizeCheckIntervalHandle];for(var t in e){var r=e[t];r&&clearInterval(r)}this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)}.bind(this),this.settings=t({},r,n||{}),!this.settings.id)return void window.console.log("Error: must provide id of video.js div");this.controlPrefix=this.settings.id+"_"||"",this.contentPlayer=document.getElementById(this.settings.id+"_html5_api"),this.showCountdown=!0,0==this.settings.showCountdown&&(this.showCountdown=!1),this.autoPlayAdBreaks=!0,0==this.settings.autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),e.one("play",I),e.on("ended",this.localContentEndedListener),e.on("dispose",this.playerDisposedListener);var U={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},G=t({},U,n.contribAdsSettings||{});if(e.ads(G),this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.settings.adsRenderingSettings)for(var H in this.settings.adsRenderingSettings)this.adsRenderingSettings[H]=this.settings.adsRenderingSettings[H];this.settings.locale&&google.ima.settings.setLocale(this.settings.locale),u(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.settings.vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.settings.vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.settings.vpaidMode),this.settings.locale&&this.adsLoader.getSettings().setLocale(this.settings.locale),this.settings.numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.settings.numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(this.VERSION),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,d,!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,h,!1),i||(i=this.startFromReadyCallback),e.on("readyforpreroll",i),e.ready(function(){e.on("fullscreenchange",P),e.on("volumechange",L)})};e.plugin("ima",n)}(window.videojs)},function(e,t){(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};videojs.plugin("ga",function(t){var r,n,i,o,a,s,l,u,c,d,h,f,p,y,v,g,m,_,b,E,T,w,k,S,C,O,A,R,P,L,x,D,j,M,I,N,F,B,U,G,H,V,W,z,q=this;return null==t&&(t={}),u={},this.options_["data-setup"]&&(S=JSON.parse(this.options_["data-setup"]),S.ga&&(u=S.ga)),c=["loaded","percentsPlayed","secondsPlayed","start","end","seek","play","pause","resize","volumeChange","error","fullscreen","adstart","adpause","adend","adskip","adtimeout","adserror"],v=t.eventsToTrack||u.eventsToTrack||c,p=t.eventCategory||u.eventCategory||"Video",l=null==t.autoLabel||t.autoLabel,y=t.eventLabel||u.eventLabel,A=t.percentsPlayedInterval||u.percentsPlayedInterval||10,D=t.secondsPlayedInterval||u.secondsPlayedInterval||60,j=t.secondsPlayedMoments||u.secondsPlayedMoments,H=t.trackReplaySeconds,O=[],I=M=0,N=!1,h=!1,W=!1,x=0,w=void 0,V=void 0,T=void 0,t.debug=t.debug||!1,E=function(){return w=Number.isFinite(q.duration()),V=e.call(v,"secondsPlayed")>=0&&(!w||t.trackFiniteSeconds),!y&&l&&(y=q.currentSrc().split("/").slice(-1)[0].replace(/\.(\w{3,4})(\?.*)?$/i,"")),w||t.eventCategory||u.eventCategory||(p="Stream"),B()},k=function(){E(),e.call(v,"loadedmetadata")>=0&&F("loadedmetadata",!0)},G=function(){var t,r,n,i,o;if(w){if(t=b(),r=Math.round(this.duration()),i=Math.round(t/r*100),A)for(n=o=0;o<=99;n=o+=A)i>=n&&e.call(O,n)<0&&(e.call(v,"start")>=0&&0===n&&i>0?F("start",!0):e.call(v,"percentsPlayed")>=0&&0!==i&&F("percent played",!0,n),i>0&&O.push(n));e.call(v,"seek")>=0&&(I=M,M=t,Math.abs(I-M)>1&&(N=!0,F("seek start",!1,I),F("seek end",!1,M)))}},B=function(){var t;if(V&&!W)return W=!0,t=_(),T=setInterval(function(){_()>t&&(x++,!(e.call(j,x)>=0)&&x%D||F("seconds played",!0,x))},1e3)},U=function(){return clearInterval(T),W=!1},g=function(){if(B(),e.call(v,"start")>=0&&!w)return F("start",!0)},d=function(){h=!0,U(),H?x=0:V=!1,F("end",!0)},R=function(){var t;B(),t=b(),(t>0||e.call(v,"start")<0)&&F("play",!0,t),h&&0===t&&H&&F("start",!0),N=!1},P=function(){B(),N=!1},C=function(){var e,t;U(),e=b(),t=Math.round(this.duration()),e===t||N||F("pause",!1,e)},z=function(){var e;e=this.muted()===!0?0:this.volume(),F("volume change",!1,e)},L=function(){F("resize - "+this.width()+"*"+this.height(),!0)},f=function(){var e;e=b(),F("error",!0,e)},m=function(){var e;e=b(),("function"==typeof this.isFullscreen?this.isFullscreen():void 0)||("function"==typeof this.isFullScreen?this.isFullScreen():void 0)?F("enter fullscreen",!1,e):F("exit fullscreen",!1,e)},a=function(){if(U(),e.call(v,"adstart")>=0)return F("adstart",!1,b())},n=function(){return F("adpause",!1)},r=function(){return B(),F("adend",!0)},o=function(){return F("adskip",!1)},s=function(){return F("adtimeout",!0)},i=function(e){return F("adserror",!0,null!=e?e.AdError:void 0)},b=function(){return w?_():x},_=function(){return Math.round(q.currentTime())},F=function(e,r,n){var i;i={eventCategory:p,eventAction:e,nonInteraction:r},null!=y&&(i.eventLabel=y),null!=n&&(i.eventValue=n),q.trigger("gaEvent",i),t.sendGaEventDirectly&&window.ga&&ga("send","event",{eventCategory:p,eventAction:e,eventLabel:y,eventValue:n,nonInteraction:r}),t.debug&&console.log(i)},this.ready(function(){if(this.on("loadedmetadata",k),this.on("timeupdate",G),this.one("firstplay",g),e.call(v,"end")>=0&&this.on("ended",d),e.call(v,"play")>=0&&this.on("play",R),this.on("playing",P),e.call(v,"pause")>=0&&this.on("pause",C),e.call(v,"volumeChange")>=0&&this.on("volumechange",z),e.call(v,"resize")>=0&&this.on("resize",L),e.call(v,"error")>=0&&this.on("error",f),e.call(v,"fullscreen")>=0&&this.on("fullscreenchange",m),e.call(v,"adstart")>=0&&this.on("adstart",a),e.call(v,"adpause")>=0&&this.on("adpause",n),e.call(v,"adend")>=0&&this.on("adend",r),e.call(v,"adskip")>=0&&this.on("adskip",o),e.call(v,"adtimeout")>=0&&this.on("adtimeout",s),e.call(v,"adserror")>=0)return this.on("adserror",i)}),{sendbeacon:F}})}).call(this)},function(e,t){/*!
	 videojs-social - v1.5.2 - 2015-09-15
	 * Copyright (c) 2015 Brightcove; Licensed https://accounts.brightcove.com/en/terms-and-conditions
	 */
/*! videojs-endscreen - v0.0.0 - 2014-10-13
	 * Copyright (c) 2014 Brightcove
	 * Modified by Hany alsamman for support videojs-5
	 */
!function(e,t){"use strict";var r=function(e){var t=this,r=!!t.ads,n=!1,i=!1,o=!1;r&&(t.on("adstart",function(){i=!0,o=!1}),t.on("adend",function(){i&&(o=!0)})),t.on("ended",function(){!n&&(!r||i&&o||!i&&!o)&&(n=!0),n&&r&&!o?t.on("adend",function(){t.trigger("endscreen")}):n&&t.trigger("endscreen")})};t.plugin("endscreen",r)}(window,window.videojs),/*! videojs-social - v0.0.0 - 2014-5-1
	 * Copyright (c) 2014 Brightcove */
function(e,t){"use strict";var r,n,i,o={title:"",description:"",url:"",deeplinking:!1,displayAfterVideo:!1,offset:"00:00:00",services:{facebook:!0,google:!0,twitter:!0,tumblr:!0,pinterest:!0,linkedin:!0}},a=function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):(e.addEventListener||"click"!==t||(t="onclick"),e.attachEvent(t,r))};r=function(e){var r,n=this;r=t.mergeOptions(o,e),n.controlBar.socialButton&&(n.controlBar.removeChild(n.controlBar.socialButton),delete n.controlBar.socialButton,n.socialOverlay&&(n.removeChild(n.socialOverlay),delete n.socialOverlay)),n.controlBar.socialButton=n.controlBar.addChild("socialButton",r),n.socialOverlay=n.addChild("socialOverlay",r),n.controlBar.socialButton.el().setAttribute("tabindex","0"),r.displayAfterVideo&&(n.endscreen(),n.on("endscreen",function(){n.socialOverlay.enableRestartButton(),n.socialOverlay.show()}))},n=t.extend(t.getComponent("Button"),{constructor:function(e,r){t.getComponent("Button").call(this,e,r),this.on("touchstart",function(t){e.socialOverlay.update(),e.socialOverlay.disableRestartButton(),e.socialOverlay.show(),t.preventDefault()}),this.on("click",function(){e.socialOverlay.update(),e.socialOverlay.disableRestartButton(),e.socialOverlay.show()})}}),n.prototype.createEl=function(){return t.getComponent("ClickableComponent").prototype.createEl.call(this,"div",{className:"vjs-share-control vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">Share</span></div>'},{role:"button","aria-live":"polite"})},t.registerComponent("SocialButton",n),i=t.extend(t.getComponent("Component"),{constructor:function(e,r){var n,i,o,s;e.socialOverlay&&e.removeChild(e.socialOverlay),t.getComponent("Component").call(this,e,r),this.el().querySelector(".vjs-social-embed-container input").setAttribute("value",this.getEmbedCode()),this.el().querySelector(".vjs-social-direct-link-container input").setAttribute("value",this._getUrlWithTime()),s=this.el().querySelector(".vjs-restart"),a(s,"click",t.bind(this,this._restartPlayer)),a(s,"activate",t.bind(this,this._restartPlayer)),r.deeplinking||(n=this.el().querySelector(".vjs-social-start"),n.className+=" vjs-hidden "),r.removeEmbed&&r.removeEmbed===!0&&(this.el().querySelector(".vjs-social-embed-container").className+=" vjs-hidden "),r.removeDirect&&r.removeDirect===!0&&(this.el().querySelector(".vjs-social-direct-link-container").className+=" vjs-hidden "),i=this.el().querySelector(".direct-link-textbox"),a(i,"click",function(){this.select()}),o=this.el().querySelector(".embed-code-textbox"),a(o,"click",function(){this.select()}),this.offsetTextBox=this.el().querySelector(".start-offset-textbox"),a(this.offsetTextBox,"change",t.bind(this,this.update)),this.closeButton=this.el().querySelector(".vjs-social-cancel"),a(this.el(),"keydown",function(t){"none"!==e.socialOverlay.el().display&&27===t.keyCode&&e.socialOverlay.hide()},!0),this.on("click",function(t){t.target===this.closeButton&&e.socialOverlay.hide()})},update:function(){var e,t=this.el().querySelector(".embed-code-textbox");this.options_;/^\s*(0*[1-5]*\d|0*[1-5]*\d:[0-5]\d|\d+:[0-5]\d:[0-5]\d)\s*$/.test(this.offsetTextBox.value)?(e=this.el().querySelector(".direct-link-textbox"),this.offsetTextBox.className=this.offsetTextBox.className.replace(/(^|\s)vjs-invalid/,""),e.value=this._getUrlWithTime()):this.offsetTextBox.className+=" vjs-invalid",t.setAttribute("value",this.getEmbedCode())},enableRestartButton:function(){var e=this.el().querySelector(".vjs-restart");e.className=e.className.replace(/\bvjs\-hidden\b/,"")},disableRestartButton:function(){var e=this.el().querySelector(".vjs-restart");/\bvjs-hidden\b/.test(e.className)||(e.className+=" vjs-hidden")},hide:function(){t.getComponent("Component").prototype.hide.call(this),this.previouslyPlaying&&this.player().play(),this.player().controlBar.socialButton.el().focus()},show:function(){t.getComponent("Component").prototype.show.call(this),this.player().paused()||(this.previouslyPlaying=!0,this.player().pause())}}),i.prototype.createEl=function(){var e=this.player(),r=this.options_;return t.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-social-overlay vjs-hidden",tabindex:-1,innerHTML:'<div class="vjs-social-cancel" role="button"><div class="vjs-control-text" aria-label="'+e.localize("Close button")+'">'+e.localize("Close")+"</div></div><form><legend>"+e.localize("Share Video")+" "+this._getTitle()+'</legend><div class="vjs-social-link-options"><label class="vjs-social-start" aria-label="'+e.localize("Start From")+'">'+e.localize("Start From")+': <input class="start-offset-textbox" type="text" tabindex="9" title="The offset must be specified using the following pattern: hh:mm:ss" placeholder="hh:mm:ss" maxlength="10" value="'+r.offset+'" /></label><div class="vjs-social-direct-link-container"><label class="vjs-social-link" aria-label="Read Only: Direct Link To Content">'+e.localize("Direct Link")+': <input class="direct-link-textbox" type="text" tabindex="8" readonly="true" /></label></div></div><div class="vjs-social-embed-container"><label arial-label="Read Only: Embed Code">'+e.localize("Embed Code")+': <input class="embed-code-textbox" type="text" tabindex="10" readonly="true" /></label></div></form><button tabindex="0" class="vjs-restart vjs-hidden"><div class="vjs-control-content"><span class="vjs-control-text">'+e.localize("Restart")+"</span></div></button>"},{"aria-role":"dialog","aria-label":e.localize("Sharing Dialog")})},i.prototype.getEmbedCode=function(){var t,r,n,i,o,a,s;return a=this.player(),s=this.options_,t=s.deeplinking?this._convertOffset(s.offset):null,r=a.el().querySelector(".start-offset-textbox"),r&&s.deeplinking&&(t=this._convertOffset(r.value)),n=a.options_,n["data-embed-url"]&&(n["data-embed-url"]=encodeURI(n["data-embed-url"])),o="//players.brightcove.net/{{account_id}}/{{player_id}}_{{embed_id}}/index.html{{video_id}}",e.parent!=e&&(o=e.location.href),i=s.embedCode?s.embedCode:"<iframe src='"+o+"{{offset}}' allowfullscreen frameborder=0></iframe>",i.replace("{{account_id}}",n["data-account"]).replace("{{player_id}}",n["data-player"]).replace("{{embed_id}}",n["data-embed"]).replace("{{video_id}}",a.mediainfo&&a.mediainfo.id?"?videoId="+a.mediainfo.id:"").replace("{{offset}}",t?"#t="+t:"")},i.prototype._getUrl=function(){var t,r=this.options_;return t=r.url?r.url:e.parent!=e?document.referrer:e.location.href},i.prototype._getUrlWithTime=function(){var e,t=this.options_,r=this._getUrl();return t.deeplinking&&(e=this._convertOffset(this.el().querySelector(".start-offset-textbox").value)),e&&(r=r+"#t="+e),r},i.prototype._getTitle=function(){var e,t=this.options_,r=this.player(),n=t.title;return n||(e=r.options_,e["data-media"]&&e["data-media"].title&&(n=e["data-media"].title)),n||""},i.prototype._convertOffset=function(e){var t,r,n,i=0,o=[1,60,3600],a="";if(e&&(t=e.split(":"),t.length>=1&&t.length<=3)){for(r=0;r<t.length;++r){if(n=parseInt(t[r],10)*o[t.length-1-r],isNaN(n))return"";i+=n}return a="",i>=3600&&0!==Math.floor(i/3600)&&(a=Math.floor(i/3600)+"h",i%=3600),i>=60&&0!==Math.floor(i/60)&&(a+=Math.floor(i/60)+"m",i%=60),i>0&&(a+=i+"s"),a}return""},i.prototype._restartPlayer=function(){var e=this.player();e.socialOverlay.hide(),e.currentTime(0),e.play()},t.registerComponent("SocialOverlay",i),t.plugin("social",r)}(window,window.videojs)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=n(i),a=o["default"].getComponent("ClickableComponent"),s={text:"Download"},l=function(){return"vjs-download-button-control "+a.prototype.buildCSSClass()},u=function(e,t){if(e.addClass("vjs-download-button"),!e.controlBar.childNameIndex_.hasOwnProperty("DownloadButton")){var r={className:l(),href:e.currentSrc(),title:t.text,download:""},n={"aria-live":"polite","aria-label":t.text};e.controlBar.addChild(new a((void 0),{el:a.prototype.createEl("a",r,n)}))}},c=function(e){var t=this;this.ready(function(){u(t,o["default"].mergeOptions(s,e))})};o["default"].plugin("downloadButton",c),c.VERSION="__VERSION__",t["default"]=c,e.exports=t["default"]},,,function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return new s(e)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=window.google,s=function(){function e(t){if(r(this,e),"object"!==("undefined"==typeof t?"undefined":i(t))||!t.containerId)throw new Error("options.containerId isn't specified");return this.defaults={playerId:"player",playerType:"video",sources:[],sourcesWithRes:[],pathToSwf:"",poster:"",autoplay:!1,controls:!0,loop:!1,muted:!1,preload:"metadata",volumeStyle:"vertical",stretch:!1,skin:"default",classes:[],enableResolutionSwitcher:!1},this.browser={IS_IOS:/iP(hone|ad|od)/i.test(navigator.userAgent),IS_ANDROID:/Android/.test(navigator.userAgent)},this.browser.IS_MOBILE=this.browser.IS_IOS||this.browser.IS_ANDROID,this.options=videojs.mergeOptions(this.defaults,t),this.options.videojs=videojs.mergeOptions({controls:this.options.controls,preload:this.options.preload,loop:this.options.loop,poster:this.options.poster,language:this.options.locale,html5:{hlsjsConfig:{}},plugins:{},controlBar:{}},this.options.videojs),this.options.classes=["video-js"].concat(Array.isArray(t.classes)?t.classes:["vjs-fill","vjs-big-play-centered"]),"vertical"===this.options.volumeStyle&&(this.options.videojs.controlBar.volumeMenuButton={inline:!1,vertical:!0}),"video"!==this.options.playerType||!videojs.Hls||this.browser.IS_MOBILE&&!this.options.sourcesWithRes.length||(this.options.enableResolutionSwitcher=!0,this.options.videojs.plugins.videoJsResolutionSwitcher={"default":this.options.defaultQuality,dynamicLabel:!0}),this.options.ads&&this.options.ads.adTagUrl&&!this.browser.IS_IOS?this.options.ads=videojs.mergeOptions({id:this.options.playerId,locale:this.options.locale,showControlsForJSAds:!1},this.options.ads):this.options.ads={},this.init(),this.player}return o(e,[{key:"init",value:function(){var e=this;this.createPlayer(),this.options.pathToSwf&&(videojs.options.flash.swf=this.options.pathToSwf),this.options.share&&videojs.addLanguage("ru",{"Share Video":"Поделиться","Direct Link":"Прямая ссылка","Embed Code":"Код для встраивания плеера"}),this.player=videojs(this.options.playerId,this.options.videojs,function(){e.options.panorama&&e.player.panorama&&(e.player.panorama("object"===i(e.options.panorama)?e.options.panorama:{}),window.addEventListener("resize",function(){var t=e.player.getChild("Canvas");return t.handleResize()})),e.options.enableResolutionSwitcher&&e.options.sourcesWithRes.length&&e.player.updateSrc(e.options.sourcesWithRes),e.options.downloadButton&&e.player.downloadButton&&e.player.downloadButton(e.options.downloadButton),e.options.share&&e.player.social(e.options.share),e.options.loop&&e.player.loadingSpinner.hide(),e.options.autoplay&&!e.browser.IS_MOBILE?e.play():e.placeholder?e.placeholder.addEventListener("click",e.play.bind(e)):e.initAds()}),"function"==typeof this.player.qualityPickerPlugin&&this.player.qualityPickerPlugin({})}},{key:"createPlayer",value:function(){this.container=document.getElementById(this.options.containerId);var e=this.options.classes;e.push("vjs-"+this.options.skin+"-skin"),this.options.stretch&&e.push("vjs-stretch"),this.options.ads&&this.browser.IS_MOBILE&&(this.placeholder=document.createElement("div"),this.placeholder.id="player-placeholder",this.container.appendChild(this.placeholder));var t=document.createElement(this.options.playerType);t.id=this.options.playerId,t.className=e.join(" "),this.options.crossorigin&&t.setAttribute("crossorigin",this.options.crossorigin),this.options.muted&&t.setAttribute("muted",""),this.options.sources.forEach(function(e){var r=document.createElement("source");r.setAttribute("src",e.src),r.setAttribute("type",e.type),t.appendChild(r)}),this.container.appendChild(t)}},{key:"play",value:function(){this.initAds(),this.player.play(),this.options.autoplay&&this.player.autoplay(!0),this.placeholder&&this.container.removeChild(this.placeholder)}},{key:"initAds",value:function(){var e=this;this.options.ads&&this.options.ads.adTagUrl&&this.player.ima&&(this.player.ima(this.options.ads,this.adsManagerLoadedCallback.bind(this)),this.player.ima.initializeAdDisplayContainer(),this.player.ima.requestAds(),this.imaContainer=document.getElementById(this.options.ads.id+"_ima-ad-container"),this.imaContainer.style.display="none",this.placeholder||this.imaContainer.addEventListener("click",function(){e.player.play()}))}},{key:"adsManagerLoadedCallback",value:function(){var e=this;this.player.ima.addEventListener(a.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){e.imaContainer.style.display="none",e.player.removeClass("vjs-ad-playing")}),this.player.ima.startFromReadyCallback()}}]),e}();t["default"]=n,e.exports=t["default"]},function(e,t,r){var n=r(117),i=r(157);i(window,window.videojs,n)},function(e,t,r){"use strict";e.exports=r(118)["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(119),s=n(a),l=r(120),u=r(121),c=n(u),d=r(126),h=n(d),f=r(127),p=n(f),y=r(131),v=n(y),g=r(132),m=n(g),_=r(133),b=n(_),E=r(152),T=n(E),w=r(153),k=n(w),S=r(123),C=r(155),O=n(C),A=r(145),R=n(A),P=r(156),L=n(P),x=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var r=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in r)n in t||(t[n]=r[n]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,S.enableLogs)(t.debug),this.config=t;var o=this.observer=new R["default"];o.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit.apply(o,[e,e].concat(r))},o.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.removeListener.apply(o,[e].concat(r))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o),this.playlistLoader=new c["default"](this),this.fragmentLoader=new h["default"](this),this.levelController=new T["default"](this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.streamController=new t.streamController(this),this.timelineController=new t.timelineController(this),this.keyLoader=new L["default"](this)}return o(e,null,[{key:"isSupported",value:function(){return window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"Events",get:function(){return s["default"]}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,debug:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,appendErrorMaxRetry:3,loader:O["default"],fLoader:void 0,pLoader:void 0,abrController:p["default"],bufferController:v["default"],capLevelController:m["default"],streamController:b["default"],timelineController:k["default"],enableCEA708Captions:!0,enableMP2TPassThrough:!1,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),o(e,[{key:"destroy",value:function(){S.logger.log("destroy"),this.trigger(s["default"].DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.streamController.destroy(),this.timelineController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){S.logger.log("attachMedia"),this.media=e,this.trigger(s["default"].MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){S.logger.log("detachMedia"),this.trigger(s["default"].MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){S.logger.log("loadSource:"+e),this.url=e,this.trigger(s["default"].MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length<=0||void 0===arguments[0]?-1:arguments[0];S.logger.log("startLoad"),this.levelController.startLoad(),this.streamController.startLoad(e)}},{key:"stopLoad",value:function(){S.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad()}},{key:"swapAudioCodec",value:function(){S.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){S.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){S.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){S.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){S.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return this.levelController.firstLevel},set:function(e){S.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){S.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){S.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}}]),e}();t["default"]=x},function(e,t){"use strict";e.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",OTHER_ERROR:"otherError"},t.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",INTERNAL_EXCEPTION:"internalException"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(120),f=r(124),p=n(f),y=r(125),v=n(y),g=r(123),m=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e,u["default"].MANIFEST_LOADING,u["default"].LEVEL_LOADING))}return a(t,e),s(t,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null),this.url=this.id=null,d["default"].prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,null)}},{key:"onLevelLoading",value:function(e){this.load(e.url,e.level,e.id)}},{key:"load",value:function(e,t,r){var n,i,o,a=this.hls.config;if(this.loading&&this.loader){if(this.url===e&&this.id===t&&this.id2===r)return;this.loader.abort()}this.url=e,this.id=t,this.id2=r,null===this.id?(n=a.manifestLoadingMaxRetry,i=a.manifestLoadingTimeOut,o=a.manifestLoadingRetryDelay):(n=a.levelLoadingMaxRetry,i=a.levelLoadingTimeOut,o=a.levelLoadingRetryDelay,g.logger.log("(re)loading playlist for level "+t)),this.loader="undefined"!=typeof a.pLoader?new a.pLoader(a):new a.loader(a),this.loading=!0,this.loader.load(e,"",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),i,n,o)}},{key:"resolve",value:function(e,t){return p["default"].buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){for(var r=[],n=void 0,i=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g;null!=(n=i.exec(e));){var o={},a=o.attrs=new v["default"](n[1]);o.url=this.resolve(n[2],t);var s=a.decimalResolution("RESOLUTION");s&&(o.width=s.width,o.height=s.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME;var l=a.CODECS;if(l){l=l.split(",");for(var u=0;u<l.length;u++){var c=l[u];c.indexOf("avc1")!==-1?o.videoCodec=this.avc1toavcoti(c):o.audioCodec=c}}r.push(o)}return r}},{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=this.cloneObj(e),r.iv=this.createInitializationVector(t)),r}},{key:"avc1toavcoti",value:function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"parseLevelPlaylist",value:function(e,t,r){var n,i,o,a=0,s=0,l={version:null,type:null,url:t,fragments:[],live:!0,startSN:0},u={method:null,key:null,iv:null,uri:null},c=0,d=null,h=null,f=null,p=null,y=null,m=null;for(o=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE):(\d+))|(?:#EXT-X-(TARGETDURATION):(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF):(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE):(\d+(?:@\d+(?:\.\d+)?))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g;null!==(i=o.exec(e));)switch(i.shift(),i=i.filter(function(e){return void 0!==e}),i[0]){case"VERSION":l.version=parseInt(i[1]);break;case"PLAYLIST-TYPE":l.type=i[1].toUpperCase();break;case"MEDIA-SEQUENCE":a=l.startSN=parseInt(i[1]);break;case"TARGETDURATION":l.targetduration=parseFloat(i[1]);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++;break;case"BYTERANGE":var _=i[1].split("@");m=1===_.length?y:parseInt(_[1]),y=parseInt(_[0])+m;break;case"INF":f=parseFloat(i[1]),p=i[2]?i[2]:null;break;case"":if(!isNaN(f)){var b=a++;n=this.fragmentDecryptdataFromLevelkey(u,b);var E=i[1]?this.resolve(i[1],t):null;h={url:E,duration:f,title:p,start:s,sn:b,level:r,cc:c,decryptdata:n,programDateTime:d},null!==m&&(h.byteRangeStartOffset=m,h.byteRangeEndOffset=y),l.fragments.push(h),s+=f,f=null,p=null,m=null,d=null}break;case"KEY":var T=i[1],w=new v["default"](T),k=w.enumeratedString("METHOD"),S=w.URI,C=w.hexadecimalInteger("IV");k&&(u={method:null,key:null,iv:null,uri:null},S&&"AES-128"===k&&(u.method=k,u.uri=this.resolve(S,t),u.key=null,u.iv=C));break;case"START":var O=i[1],A=new v["default"](O),R=A.decimalFloatingPoint("TIME-OFFSET");R&&(l.startTimeOffset=R);break;case"PROGRAM-DATE-TIME":d=new Date(Date.parse(i[1]));break;case"#":i.shift();break;default:g.logger.warn("line parsed but not handled: "+i)}return h&&!h.url&&(l.fragments.pop(),s-=h.duration),l.totalduration=s,l.endSN=a-1,l}},{key:"loadsuccess",value:function(e,t){var r,n=e.currentTarget,i=n.responseText,o=n.responseURL,a=this.id,s=this.id2,l=this.hls;if(this.loading=!1,void 0===o&&(o=this.url),t.tload=performance.now(),t.mtime=new Date(n.getResponseHeader("Last-Modified")),0===i.indexOf("#EXTM3U"))if(i.indexOf("#EXTINF:")>0){var c=this.parseLevelPlaylist(i,o,a||0);c.tload=t.tload,null===a&&l.trigger(u["default"].MANIFEST_LOADED,{levels:[{url:o,details:c}],url:o,stats:t}),t.tparsed=performance.now(),l.trigger(u["default"].LEVEL_LOADED,{details:c,level:a||0,id:s,stats:t})}else r=this.parseMasterPlaylist(i,o),r.length?l.trigger(u["default"].MANIFEST_LOADED,{levels:r,url:o,stats:t}):l.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no level found in manifest"});else l.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e){var t,r;null===this.id?(t=h.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0):(t=h.ErrorDetails.LEVEL_LOAD_ERROR,r=!1),this.loader&&this.loader.abort(),this.loading=!1,this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:t,fatal:r,url:this.url,loader:this.loader,response:e.currentTarget,level:this.id,id:this.id2})}},{key:"loadtimeout",value:function(){var e,t;null===this.id?(e=h.ErrorDetails.MANIFEST_LOAD_TIMEOUT,t=!0):(e=h.ErrorDetails.LEVEL_LOAD_TIMEOUT,t=!1),this.loader&&this.loader.abort(),this.loading=!1,this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:e,fatal:t,url:this.url,loader:this.loader,level:this.id,id:this.id2})}}]),t}(d["default"]);t["default"]=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(123),l=r(120),u=r(119),c=n(u),d=function(){function e(t){i(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}return a(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===o(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var r=function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(n){s.logger.error("internal error happened while processing "+e+":"+n.message),this.hls.trigger(c["default"].ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:n})}}}]),e}();t["default"]=d},function(e,t){"use strict";function r(){}function n(e,t){return t="["+e+"] > "+t}function i(e){var t=window.console[e];return t?function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];i[0]&&(i[0]=n(e,i[0])),
t.apply(window.console,i)}:r}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach(function(t){l[t]=e[t]?e[t].bind(e):i(t)})}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s={trace:r,debug:r,log:r,warn:r,info:r,error:r},l=s;t.enableLogs=function(e){if(e===!0||"object"===("undefined"==typeof e?"undefined":a(e))){o(e,"debug","log","info","warn","error");try{l.log()}catch(t){l=s}}else l=s},t.logger=l},function(e,t){"use strict";var r={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,i=null,o=/^([^#]*)(.*)$/.exec(t);o&&(i=o[2],t=o[1]);var a=/^([^\?]*)(.*)$/.exec(t);a&&(n=a[2],t=a[1]);var s=/^([^#]*)(.*)$/.exec(e);s&&(e=s[1]);var l=/^([^\?]*)(.*)$/.exec(e);l&&(e=l[1]);var u=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(e);if(!u)throw new Error("Error trying to parse base URL.");var c=u[2]||"",d=u[1]||"",h=u[4],f=null;return f=/^\/\//.test(t)?c+"//"+r.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?d+"/"+r.buildAbsolutePath("",t.substring(1)):r.buildAbsolutePath(d+h,t),n&&(f+=n),i&&(f+=i),f},buildAbsolutePath:function(e,t){for(var r,n,i=t,o="",a=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;n=a.indexOf("/../",s),n>-1;s=n+r)r=/^\/(?:\.\.\/)*/.exec(a.slice(n))[0].length,o=(o+a.substring(s,n)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(r-1)/3+"}$"),"/");return o+a.substr(s)}};e.exports=r},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){r(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return n(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=/^(\d+)x(\d+)$/.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){for(var t,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,n={};null!==(t=r.exec(e));){var i=t[2],o='"';0===i.indexOf(o)&&i.lastIndexOf(o)===i.length-1&&(i=i.slice(1,-1)),n[t[1]]=i}return n}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(120),f=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e,u["default"].FRAG_LOADING))}return a(t,e),s(t,[{key:"destroy",value:function(){var e=this.loader;e&&(e.abort(),this.loader=null),d["default"].prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=this.frag=e.frag,r=this.hls.config;t.loaded=0,t.loader=this.loader="undefined"!=typeof r.fLoader?new r.fLoader(r):new r.loader(r),t.loader.load(t.url,"arraybuffer",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),r.fragLoadingTimeOut,0,0,this.loadprogress.bind(this),t)}},{key:"loadsuccess",value:function(e,t){var r=e.currentTarget.response,n=this.frag;t.length=r.byteLength,this.loader=n.loader=void 0,this.hls.trigger(u["default"].FRAG_LOADED,{payload:r,frag:n,stats:t})}},{key:"loaderror",value:function(e){var t=this.loader;t&&t.abort(),this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:this.frag,response:e})}},{key:"loadtimeout",value:function(){var e=this.loader;e&&e.abort(),this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:this.frag})}},{key:"loadprogress",value:function(e,t){var r=this.frag;r.loaded=t.loaded,this.hls.trigger(u["default"].FRAG_LOAD_PROGRESS,{frag:r,stats:t})}}]),t}(d["default"]);t["default"]=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(128),f=n(h),p=r(120),y=r(123),v=r(129),g=n(v),m=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,u["default"].FRAG_LOADING,u["default"].FRAG_LOADED,u["default"].FRAG_BUFFERED,u["default"].ERROR));return r.lastLoadedFragLevel=0,r._autoLevelCapping=-1,r._nextAutoLevel=-1,r.hls=e,r.onCheck=r.abandonRulesCheck.bind(r),r}return a(t,e),s(t,[{key:"destroy",value:function(){this.clearTimer(),d["default"].prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var t=this.hls,r=e.frag.level,n=t.levels[r].details.live,i=t.config,o=void 0,a=void 0;n?(o=i.abrEwmaFastLive,a=i.abrEwmaSlowLive):(o=i.abrEwmaFastVoD,a=i.abrEwmaSlowVoD),this.bwEstimator=new g["default"](t,a,o,i.abrEwmaDefaultEstimate)}var s=e.frag;s.trequest=performance.now(),this.fragCurrent=s}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(!r.loader||r.loader.stats&&r.loader.stats.aborted)return y.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();if(t&&(!t.paused||!t.readyState)&&r.autoLevel&&r.level){var n=performance.now()-r.trequest;if(n>500*r.duration){var i=e.levels,o=Math.max(1,1e3*r.loaded/n),a=Math.max(r.loaded,Math.round(r.duration*i[r.level].bitrate/8)),s=t.currentTime,l=(a-r.loaded)/o,c=f["default"].bufferInfo(t,s,e.config.maxBufferHole).end-s;if(c<2*r.duration&&l>c){var d=void 0,h=void 0;for(h=r.level-1;h>=0&&(d=r.duration*i[h].bitrate/(6.4*o),!(d<c));h--);if(d<l){h=Math.max(0,h),y.logger.warn("loading too slow, abort fragment loading and switch to level "+h+":fragLoadedDelay["+h+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+d.toFixed(1)+"<"+l.toFixed(1)+":"+c.toFixed(1)),e.nextLoadLevel=h,this.bwEstimator.sample(n,r.loaded);var p=r.loader,v=p.stats;p.abort(),this.clearTimer(),e.trigger(u["default"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:v})}}}}}},{key:"onFragLoaded",value:function(e){if(this.clearTimer(),this.lastLoadedFragLevel=e.frag.level,this._nextAutoLevel=-1,e.frag.bitrateTest){var t=e.stats;t.tparsed=t.tbuffered=t.tload,this.onFragBuffered(e)}}},{key:"onFragBuffered",value:function(e){var t=e.stats,r=e.frag;if(t.aborted!==!0&&1===r.loadCounter&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tbuffered-t.trequest;y.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(n,t.loaded),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,r,n,i,o,a,s){for(var l=n;l>=0;l--){var u=s[l],c=u.details,d=c?c.totalduration/c.fragments.length:t,h=!!c&&c.live,f=void 0;f=l<=e?o*r:a*r;var p=s[l].bitrate,v=p*d/f;if(y.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(f)+"/"+p+"/"+d+"/"+i+"/"+v),f>p&&(!v||h||v<i))return l}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(e===-1||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var r=this.nextABRAutoLevel;return e!==-1&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"maxAutoLevel",get:function(){var e,t=this.hls.levels,r=this._autoLevelCapping;return e=r===-1&&t&&t.length?t.length-1:r}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,r=e.levels,n=e.config,i=e.media,o=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,s=i?i.currentTime:0,l=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,c=(f["default"].bufferInfo(i,s,n.maxBufferHole).end-s)/l,d=this.findBestLevel(o,a,u,t,c,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(d>=0)return d;y.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=n.maxStarvationDelay,p=n.abrBandWidthFactor,v=n.abrBandWidthUpFactor;if(0===c){var g=this.bitrateTestDelay;g&&(h=n.maxLoadingDelay-g,y.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),p=v=1)}return d=this.findBestLevel(o,a,u,t,c+h,p,v,r),Math.max(d,0)}}]),t}(d["default"]);t["default"]=m},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e)}return n(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0;return!1}},{key:"bufferInfo",value:function(e,t,r){if(e){var n,i=e.buffered,o=[];for(n=0;n<i.length;n++)o.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(o,t,r)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,r){var n,i,o,a,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r?r:t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<r?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,n=0,i=o=t;s<l.length;s++){var d=l[s].start,h=l[s].end;if(t+r>=d&&t<h)i=d,o=h,n=o-t;else if(t+r<d){a=d;break}}return{len:n,start:i,end:o,nextStart:a}}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(130),s=n(a),l=function(){function e(t,r,n,o){i(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new s["default"](r),this.fast_=new s["default"](n)}return o(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,n=e/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();t["default"]=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){r(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return n(e,[{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(123),f=r(120),p=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,u["default"].MEDIA_ATTACHING,u["default"].MEDIA_DETACHING,u["default"].BUFFER_RESET,u["default"].BUFFER_APPENDING,u["default"].BUFFER_CODECS,u["default"].BUFFER_EOS,u["default"].BUFFER_FLUSHING,u["default"].LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r}return a(t,e),s(t,[{key:"destroy",value:function(){d["default"].prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(t){h.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks=null,this.sourceBuffer=null,this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u["default"].MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){h.logger.log("media source opened"),this.hls.trigger(u["default"].MEDIA_ATTACHED,{media:this.media}),this.mediaSource.removeEventListener("sourceopen",this.onmso);var e=this.pendingTracks;e&&(this.onBufferCodecs(e),this.pendingTracks=null,this.doAppending())}},{key:"onMediaSourceClose",value:function(){h.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){h.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){this._needsFlush&&this.doFlush(),this._needsEos&&this.onBufferEos(),this.hls.trigger(u["default"].BUFFER_APPENDED),this.doAppending()}},{key:"onSBUpdateError",value:function(e){h.logger.error("sourceBuffer error:"+e),this.hls.trigger(u["default"].ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;if(e){for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(n){}}this.sourceBuffer=null}this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){var t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this.pendingTracks=e);if(!this.sourceBuffer){var r={};for(var n in e){var i=e[n],o=i.levelCodec||i.codec,a=i.container+";codecs="+o;h.logger.log("creating sourceBuffer("+a+")");var s=r[n]=t.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe)}this.sourceBuffer=r}}},{key:"onBufferAppending",value:function(e){this.segments?this.segments.push(e):this.segments=[e],this.doAppending()}},{key:"onBufferAppendFail",value:function(e){h.logger.error("sourceBuffer error:"+e.event),this.hls.trigger(u["default"].ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;t&&"open"===t.readyState&&(e.audio&&e.audio.updating||e.video&&e.video.updating?this._needsEos=!0:(h.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment"),t.endOfStream(),this._needsEos=!1))}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){if(null!==this._levelDuration){var e=this.media,t=this.mediaSource,r=this.sourceBuffer;if(e&&t&&r&&0!==e.readyState&&"open"===t.readyState){for(var n in r)if(r[n].updating)return;null===this._msDuration&&(this._msDuration=t.duration),this._levelDuration>this._msDuration&&(h.logger.log("Updating mediasource duration to "+this._levelDuration),t.duration=this._levelDuration,this._msDuration=this._levelDuration)}}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;if(r)for(var n in r)t+=r[n].buffered.length;this.appended=t,this.hls.trigger(u["default"].BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(t){if(this.media.error)return r=[],void h.logger.error("trying to append although a media error occured, flush segment and abort");for(var n in t)if(t[n].updating)return;if(r.length){var i=r.shift();try{t[i.type].appendBuffer(i.data),this.appendError=0,this.appended++}catch(o){h.logger.error("error while trying to append buffer:"+o.message),r.unshift(i);var a={type:f.ErrorTypes.MEDIA_ERROR};if(22===o.code)return this.segments=[],a.details=f.ErrorDetails.BUFFER_FULL_ERROR,void e.trigger(u["default"].ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=f.ErrorDetails.BUFFER_APPEND_ERROR,a.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return h.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],a.fatal=!0,void e.trigger(u["default"].ERROR,a);a.fatal=!1,e.trigger(u["default"].ERROR,a)}}}}},{key:"flushBuffer",value:function(e,t){var r,n,i,o,a,s;if(this.flushBufferCounter<this.appended&&this.sourceBuffer)for(var l in this.sourceBuffer){if(r=this.sourceBuffer[l],r.updating)return h.logger.warn("cannot flush, sb updating in progress"),!1;for(n=0;n<r.buffered.length;n++)if(i=r.buffered.start(n),o=r.buffered.end(n),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&t===Number.POSITIVE_INFINITY?(a=e,s=t):(a=Math.max(i,e),s=Math.min(o,t)),Math.min(s,o)-a>.5)return this.flushBufferCounter++,h.logger.log("flush "+l+" ["+a.toFixed(3)+","+s.toFixed(3)+"], of ["+i.toFixed(3)+","+o.toFixed(3)+"], pos:"+this.media.currentTime.toFixed(3)),r.remove(a,s),!1}else h.logger.warn("abort flushing too many retries");return h.logger.log("buffer flushed"),!0}}]),t}(d["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e,u["default"].MEDIA_ATTACHING,u["default"].MANIFEST_PARSED))}return a(t,e),s(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,this.hls.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;e&&(this.hls.autoLevelCapping=this.getMaxLevel(e-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:"getMaxLevel",value:function(e){var t=void 0,r=void 0,n=void 0,i=this.mediaWidth,o=this.mediaHeight,a=0,s=0;for(r=0;r<=e&&(n=this.levels[r],t=r,a=n.width,s=n.height,!(i<=a||o<=s));r++);return t}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e}},{key:"mediaWidth",get:function(){var e=void 0;return this.media&&(e=this.media.width||this.media.clientWidth||this.media.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0;return this.media&&(e=this.media.height||this.media.clientHeight||this.media.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(d["default"]);t["default"]=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(134),u=n(l),c=r(119),d=n(c),h=r(122),f=n(h),p=r(123),y=r(150),v=n(y),g=r(128),m=n(g),_=r(151),b=n(_),E=r(120),T={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},w=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,d["default"].MEDIA_ATTACHED,d["default"].MEDIA_DETACHING,d["default"].MANIFEST_LOADING,d["default"].MANIFEST_PARSED,d["default"].LEVEL_LOADED,d["default"].KEY_LOADED,d["default"].FRAG_LOADED,d["default"].FRAG_LOAD_EMERGENCY_ABORTED,d["default"].FRAG_PARSING_INIT_SEGMENT,d["default"].FRAG_PARSING_DATA,d["default"].FRAG_PARSED,d["default"].ERROR,d["default"].BUFFER_APPENDED,d["default"].BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return a(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),f["default"].prototype.destroy.call(this),this.state=T.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.media,r=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,t&&r>0?(p.logger.log("configure startPosition @"+r),this.lastPaused||(p.logger.log("resuming video"),t.play())):this.lastCurrentTime=this.startPosition?this.startPosition:e,!this.startFragRequested){var i=n.startLevel;i===-1&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}this.state=T.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else p.logger.warn("cannot start loading as manifest not parsed yet"),this.state=T.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,r,n=this.hls,i=n.config,o=this.media,a=o&&o.seeking;switch(this.state){case T.ERROR:break;case T.BUFFER_FLUSHING:this.fragLoadError=0;break;case T.IDLE:if(void 0!==this.levelLastLoaded&&!o&&(this.startFragRequested||!i.startFragPrefetch))break;e=this.loadedmetadata?o.currentTime:this.nextLoadPosition,t=n.nextLoadLevel;var s=m["default"].bufferInfo(o,e,i.maxBufferHole),l=s.len,u=s.end,c=this.fragPrevious,h=this.levels[t],f=h.bitrate,y=void 0;if(y=f?Math.max(8*i.maxBufferSize/f,i.maxBufferLength):i.maxBufferLength,y=Math.min(y,i.maxMaxBufferLength),l<y){if(this.level=n.nextLoadLevel=t,r=h.details,"undefined"==typeof r||r.live&&this.levelLastLoaded!==t){this.state=T.WAITING_LEVEL;break}if(!r.live&&c&&c.sn===r.endSN&&(!a||o.duration-u<=c.duration/2)){this.hls.trigger(d["default"].BUFFER_EOS),this.state=T.ENDED;break}var g=r.fragments,_=g.length;if(0===_)break;var b=g[0].start,w=g[_-1].start+g[_-1].duration,k=void 0;if(r.live){if(_<i.initialLiveManifestSize){p.logger.warn("Can not start playback of a level, reason: not enough fragments "+_+" < "+i.initialLiveManifestSize);break}var S=void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:i.liveMaxLatencyDurationCount*r.targetduration;if(u<Math.max(b,w-S)){var C=void 0!==i.liveSyncDuration?i.liveSyncDuration:i.liveSyncDurationCount*r.targetduration,O=b+Math.max(0,r.totalduration-C);p.logger.log("buffer end: "+u+" is located too far from the end of live sliding playlist, reset currentTime to : "+O.toFixed(3)),u=O,o&&o.readyState&&o.duration>O&&(o.currentTime=O)}if(r.PTSKnown&&u>w)break;if(this.startFragRequested&&!r.PTSKnown){if(c){var A=c.sn+1;A>=r.startSN&&A<=r.endSN&&(k=g[A-r.startSN],p.logger.log("live playlist, switching playlist, load frag with next SN: "+k.sn))}k||(k=g[Math.min(_-1,Math.round(_/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+k.sn))}}else u<b&&(k=g[0]);if(k||!function(){var e=i.maxFragLookUpTolerance;u<w?((u>w-e||a)&&(e=0),k=v["default"].search(g,function(t){return t.start+t.duration-e<=u?1:t.start-e>u?-1:0})):k=g[_-1]}(),k){if(b=k.start,c&&k.level===c.level&&k.sn===c.sn){if(!(k.sn<r.endSN))break;var R=c.deltaPTS,P=k.sn-r.startSN;if(R&&R>i.maxBufferHole&&c.dropped?(k=g[P-1],p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),c.loadCounter--):(k=g[P+1],p.logger.log("SN just loaded, load next one: "+k.sn)),!k)break}if(null!=k.decryptdata.uri&&null==k.decryptdata.key)p.logger.log("Loading key for "+k.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t),this.state=T.KEY_LOADING,n.trigger(d["default"].KEY_LOADING,{frag:k});else{if(p.logger.log("Loading "+k.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t+", currentTime:"+e.toFixed(3)+",bufferEnd:"+u.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,k.loadCounter){k.loadCounter++;var L=i.fragLoadingLoopThreshold;if(k.loadCounter>L&&Math.abs(this.fragLoadIdx-k.loadIdx)<L)return void n.trigger(d["default"].ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:k})}else k.loadCounter=1;k.loadIdx=this.fragLoadIdx,this.fragCurrent=k,this.startFragRequested=!0,k.autoLevel=n.autoLevelEnabled,k.bitrateTest=this.bitrateTest,n.trigger(d["default"].FRAG_LOADING,{frag:k}),this.state=T.FRAG_LOADING}}}break;case T.WAITING_LEVEL:t=this.levels[this.level],t&&t.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var x=performance.now(),D=this.retryDate;(!D||x>=D||a)&&(p.logger.log("streamController: retryDate reached, switch back to IDLE state"),this.state=T.IDLE);break;case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:
case T.PARSED:case T.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"getBufferRange",value:function(e){var t,r,n=this.bufferRange;if(n)for(t=n.length-1;t>=0;t--)if(r=n[t],e>=r.start&&e<=r.end)return r;return null}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,r=this.media;if(r&&r.seeking===!1&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),m["default"].isBuffered(r,t)?e=this.getBufferRange(t):m["default"].isBuffered(r,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var n=e.frag;n!==this.fragPlaying&&(this.fragPlaying=n,this.hls.trigger(d["default"].FRAG_CHANGED,{frag:n}))}}},{key:"immediateLevelSwitch",value:function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.BUFFER_FLUSHING,this.hls.trigger(d["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:"immediateLevelSwitchEnd",value:function(){this.immediateSwitch=!1;var e=this.media;e&&e.readyState&&(e.currentTime-=1e-4,this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,n=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferRange(e.currentTime),r&&r.start>1&&(this.state=T.BUFFER_FLUSHING,this.hls.trigger(d["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:r.start-1})),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if(n=this.getBufferRange(e.currentTime+t),n&&(n=this.followingBufferRange(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.state=T.BUFFER_FLUSHING,this.hls.trigger(d["default"].BUFFER_FLUSHING,{startOffset:n.start,endOffset:Number.POSITIVE_INFINITY})}}}},{key:"onMediaAttached",value:function(e){var t=this.media=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=this.config;if(this.state===T.FRAG_LOADING){if(0===m["default"].bufferInfo(e,e.currentTime,t.maxBufferHole).len){p.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load");var r=this.fragCurrent;r&&(r.loader&&r.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.state=T.IDLE}}else this.state===T.ENDED&&(this.state=T.IDLE);e&&(this.lastCurrentTime=e.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*t.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaSeeked",value:function(){this.tick()}},{key:"onMediaEnded",value:function(){p.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(d["default"].BUFFER_RESET),this.bufferRange=[],this.stalled=!1}},{key:"onManifestParsed",value:function(e){var t,r=!1,n=!1;e.levels.forEach(function(e){t=e.audioCodec,t&&(t.indexOf("mp4a.40.2")!==-1&&(r=!0),t.indexOf("mp4a.40.5")!==-1&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,r=e.level,n=this.levels[r],i=t.totalduration,o=0;if(p.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=r,t.live){var a=n.details;a&&t.fragments.length>0?(b["default"].mergeDetails(a,t),o=t.fragments[0].start,t.PTSKnown?p.logger.log("live playlist sliding:"+o.toFixed(3)):p.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,p.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,this.hls.trigger(d["default"].LEVEL_UPDATED,{details:t,level:r}),this.startFragRequested===!1){if(this.startPosition===-1){var s=t.startTimeOffset;if(isNaN(s))if(t.live){var l=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;this.startPosition=Math.max(0,o+i-l)}else this.startPosition=0;else p.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_LEVEL&&(this.state=T.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===T.FRAG_LOADING&&t&&r.level===t.level&&r.sn===t.sn){var n=e.stats,i=this.levels[t.level],o=i.details;if(p.logger.log("Loaded  "+t.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+t.level),this.bitrateTest=!1,r.bitrateTest===!0&&this.hls.nextLoadLevel)this.state=T.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(d["default"].FRAG_BUFFERED,{stats:n,frag:t}),this.tick();else{this.state=T.PARSING,this.stats=n;var a=o.totalduration,s=void 0===t.startDTS||isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,c=t.sn,h=i.audioCodec||this.config.defaultAudioCodec;this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),void 0===h&&(h=this.lastAudioCodec),h&&(h=h.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5")),this.pendingAppending=0,p.logger.log("Parsing "+c+" of ["+o.startSN+" ,"+o.endSN+"],level "+l+", cc "+t.cc);var f=this.demuxer;f||(f=this.demuxer=new u["default"](this.hls)),f.push(e.payload,h,i.videoCodec,s,t.cc,l,c,a,t.decryptdata)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){if(this.state===T.PARSING){var t,r,n=e.tracks;if(r=n.audio){var i=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();i&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),i=i.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&o.indexOf("firefox")===-1&&(i="mp4a.40.5"),o.indexOf("android")!==-1&&(i="mp4a.40.2",p.logger.log("Android: force audio codec to"+i)),r.levelCodec=i}if(r=n.video,r&&(r.levelCodec=this.levels[this.level].videoCodec),e.unique){var a={codec:"",levelCodec:""};for(t in e.tracks)r=n[t],a.container=r.container,a.codec&&(a.codec+=",",a.levelCodec+=","),r.codec&&(a.codec+=r.codec),r.levelCodec&&(a.levelCodec+=r.levelCodec);n={audiovideo:a}}this.hls.trigger(d["default"].BUFFER_CODECS,n);for(t in n){r=n[t],p.logger.log("track:"+t+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var s=r.initSegment;s&&(this.pendingAppending++,this.hls.trigger(d["default"].BUFFER_APPENDING,{type:t,data:s}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this;if(this.state===T.PARSING){this.tparse2=Date.now();var r=this.levels[this.level],n=this.fragCurrent;p.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0));var i=b["default"].updateFragPTSDTS(r.details,n.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(d["default"].LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:i}),"video"===e.type&&(n.dropped=e.dropped),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,o.trigger(d["default"].BUFFER_APPENDING,{type:e.type,data:r}))}),this.nextLoadPosition=e.endPTS,this.bufferRange.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:n}),this.tick()}else p.logger.warn("not in PARSING state but "+this.state+", ignoring FRAG_PARSING_DATA event")}},{key:"onFragParsed",value:function(){this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:"onBufferAppended",value:function(){switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:"_checkAppendedParsed",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;e&&(this.fragPrevious=e,t.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*t.length/(t.tbuffered-t.tfirst)),this.hls.trigger(d["default"].FRAG_BUFFERED,{stats:t,frag:e}),p.logger.log("media buffered : "+this.timeRangesToString(this.media.buffered)),this.state=T.IDLE),this.tick()}}},{key:"onError",value:function(e){var t=this.media,r=t&&m["default"].isBuffered(t,t.currentTime)&&m["default"].isBuffered(t,t.currentTime+.4),n=e.frag||this.fragCurrent;switch(e.details){case E.ErrorDetails.FRAG_LOAD_ERROR:case E.ErrorDetails.FRAG_LOAD_TIMEOUT:case E.ErrorDetails.KEY_LOAD_ERROR:case E.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=this.config.fragLoadingMaxRetry||r||n.autoLevel&&n.level){this.fragLoadError=i,n.loadCounter=0;var o=Math.min(Math.pow(2,i-1)*this.config.fragLoadingRetryDelay,64e3);p.logger.warn("streamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=T.FRAG_LOADING_WAITING_RETRY}else p.logger.error("streamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(d["default"].ERROR,e),this.state=T.ERROR}break;case E.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(n.duration),this.state=T.IDLE):n.autoLevel&&0!==n.level||(e.fatal=!0,this.hls.trigger(d["default"].ERROR,e),this.state=T.ERROR));break;case E.ErrorDetails.LEVEL_LOAD_ERROR:case E.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==T.ERROR&&(e.fatal?(this.state=T.ERROR,p.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===T.WAITING_LEVEL&&(this.state=T.IDLE));break;case E.ErrorDetails.BUFFER_FULL_ERROR:this.state!==T.PARSING&&this.state!==T.PARSED||(this._reduceMaxBufferLength(n.duration),this.state=T.IDLE)}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,p.logger.warn("reduce max buffer length to "+t.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,r=e.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var n=this.startPosition;if(!t&&t!==n&&n){p.logger.log("target start position:"+n);var i=r.start(0),o=r.end(0);(n<i||n>o)&&(n=i,p.logger.log("target start position not buffered, seek to buffered.start(0) "+i.toFixed(3))),p.logger.log("adjust currentTime from "+t.toFixed(3)+" to "+n.toFixed(3)),e.currentTime=n}}else{var a=m["default"].bufferInfo(e,t,0),s=!(e.paused||e.ended||0===e.buffered.length),l=.4,u=t>e.playbackRate*this.lastCurrentTime,c=this.config;if(this.stalled&&u&&(this.stalled=!1,p.logger.log("playback not stuck anymore @"+t.toFixed(3))),s&&a.len<=l&&(u?(l=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=c.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=0,p.logger.log("playback seems stuck @"+t.toFixed(3)),this.hls.trigger(d["default"].ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0),a.len<=l)){var h=a.nextStart,f=h-t;if(h&&f<c.maxSeekHole&&f>0){p.logger.log("adjust currentTime from "+e.currentTime.toFixed(3)+" to next buffered @ "+h.toFixed(3)+" + nudge "+this.seekHoleNudgeDuration);var y=h+this.seekHoleNudgeDuration-e.currentTime;e.currentTime=h+this.seekHoleNudgeDuration,this.hls.trigger(d["default"].ERROR,{type:E.ErrorTypes.MEDIA_ERROR,details:E.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:y})}}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=T.IDLE,this.tick()}},{key:"onBufferFlushed",value:function(){var e,t,r=[];for(t=0;t<this.bufferRange.length;t++)e=this.bufferRange[t],m["default"].isBuffered(this.media,(e.start+e.end)/2)&&r.push(e);this.bufferRange=r,this.immediateSwitch&&this.immediateLevelSwitchEnd(),this.state=T.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"timeRangesToString",value:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}},{key:"currentLevel",get:function(){if(this.media){var e=this.getBufferRange(this.media.currentTime);if(e)return e.frag.level}return-1}},{key:"nextBufferRange",get:function(){return this.media?this.followingBufferRange(this.getBufferRange(this.media.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}}]),t}(f["default"]);t["default"]=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(119),s=n(a),l=r(135),u=n(l),c=r(144),d=n(c),h=r(123),f=r(146),p=n(f),y=r(120),v=function(){function e(t){i(this,e),this.hls=t;var n={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:t.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t")};if(t.config.enableWorker&&"undefined"!=typeof Worker){h.logger.log("demuxing in webworker");var o=void 0;try{var a=r(149);o=this.w=a(d["default"]),this.onwmsg=this.onWorkerMessage.bind(this),o.addEventListener("message",this.onwmsg),o.onerror=function(e){t.trigger(s["default"].ERROR,{type:y.ErrorTypes.OTHER_ERROR,details:y.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},o.postMessage({cmd:"init",typeSupported:n})}catch(l){h.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),o&&URL.revokeObjectURL(o.objectURL),this.demuxer=new u["default"](t,n)}}else this.demuxer=new u["default"](t,n);this.demuxInitialized=!0}return o(e,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.decrypter;r&&(r.destroy(),this.decrypter=null)}},{key:"pushDecrypted",value:function(e,t,r,n,i,o,a,s){var l=this.w;if(l)l.postMessage({cmd:"demux",data:e,audioCodec:t,videoCodec:r,timeOffset:n,cc:i,level:o,sn:a,duration:s},[e]);else{var u=this.demuxer;u&&u.push(new Uint8Array(e),t,r,n,i,o,a,s)}}},{key:"push",value:function(e,t,r,n,i,o,a,s,l){if(e.byteLength>0&&null!=l&&null!=l.key&&"AES-128"===l.method){null==this.decrypter&&(this.decrypter=new p["default"](this.hls));var u=this;this.decrypter.decrypt(e,l.key,l.iv,function(e){u.pushDecrypted(e,t,r,n,i,o,a,s)})}else this.pushDecrypted(e,t,r,n,i,o,a,s)}},{key:"onWorkerMessage",value:function(e){var t=e.data;switch(t.event){case s["default"].FRAG_PARSING_INIT_SEGMENT:var r={};r.tracks=t.tracks,r.unique=t.unique,this.hls.trigger(s["default"].FRAG_PARSING_INIT_SEGMENT,r);break;case"init":URL.revokeObjectURL(this.w.objectURL);break;case s["default"].FRAG_PARSING_DATA:this.hls.trigger(s["default"].FRAG_PARSING_DATA,{data1:new Uint8Array(t.data1),data2:new Uint8Array(t.data2),startPTS:t.startPTS,endPTS:t.endPTS,startDTS:t.startDTS,endDTS:t.endDTS,type:t.type,nb:t.nb,dropped:t.dropped});break;case s["default"].FRAG_PARSING_METADATA:this.hls.trigger(s["default"].FRAG_PARSING_METADATA,{samples:t.samples});break;case s["default"].FRAG_PARSING_USERDATA:this.hls.trigger(s["default"].FRAG_PARSING_USERDATA,{samples:t.samples});break;default:this.hls.trigger(t.event,t.data)}}}]),e}();t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(119),s=n(a),l=r(120),u=r(136),c=n(u),d=r(139),h=n(d),f=r(141),p=n(f),y=r(143),v=n(y),g=function(){function e(t,r){i(this,e),this.hls=t,this.typeSupported=r}return o(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,r,n,i,o,a,u){var d=this.demuxer;if(!d){var f=this.hls;if(h["default"].probe(e))d=this.typeSupported.mp2t===!0?new h["default"](f,v["default"]):new h["default"](f,p["default"]);else{if(!c["default"].probe(e))return void f.trigger(s["default"].ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});d=new c["default"](f,p["default"])}this.demuxer=d}d.push(e,t,r,n,i,o,a,u)}}]),e}();t["default"]=g},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(137),s=n(a),l=r(123),u=r(138),c=n(u),d=function(){function e(t,r){i(this,e),this.observer=t,this.remuxerClass=r,this.remuxer=new this.remuxerClass(t),this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0}}return o(e,[{key:"push",value:function(e,t,r,n,i,o,a,u){var d,h,f,p,y,v,g,m,_,b=this._aacTrack,E=new c["default"](e),T=90*E.timeStamp;for(y=E.length,m=e.length;y<m-1&&(255!==e[y]||240!==(240&e[y+1]));y++);for(b.audiosamplerate||(d=s["default"].getAudioConfig(this.observer,e,y,t),b.config=d.config,b.audiosamplerate=d.samplerate,b.channelCount=d.channelCount,b.codec=d.codec,b.duration=u,l.logger.log("parsed codec:"+b.codec+",rate:"+d.samplerate+",nb channel:"+d.channelCount)),p=0,f=9216e4/b.audiosamplerate;y+5<m&&(v=1&e[y+1]?7:9,h=(3&e[y+3])<<11|e[y+4]<<3|(224&e[y+5])>>>5,h-=v,h>0&&y+v+h<=m);)for(g=T+p*f,_={unit:e.subarray(y+v,y+v+h),pts:g,dts:g},b.samples.push(_),b.len+=h,y+=h+v,p++;y<m-1&&(255!==e[y]||240!==(240&e[y+1]));y++);this.remuxer.remux(this._aacTrack,{samples:[]},{samples:[{pts:T,dts:T,unit:E.payload}]},{samples:[]},n)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,r,n=new c["default"](e);if(n.hasTimeStamp)for(t=n.length,r=e.length;t<r-1;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();t["default"]=d},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(123),a=r(120),s=function(){function e(){n(this,e)}return i(e,null,[{key:"getAudioConfig",value:function(e,t,r,n){var i,s,l,u,c,d=navigator.userAgent.toLowerCase(),h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return i=((192&t[r+2])>>>6)+1,s=(60&t[r+2])>>>2,s>h.length-1?void e.trigger(Event.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s}):(u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,o.logger.log("manifest codec:"+n+",ADTS data:type:"+i+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+u),d.indexOf("firefox")!==-1?s>=6?(i=5,c=new Array(4),l=s-3):(i=2,c=new Array(2),l=s):d.indexOf("android")!==-1?(i=2,c=new Array(2),l=s):(i=5,c=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&s>=6?l=s-3:((n&&n.indexOf("mp4a.40.2")!==-1&&s>=6&&1===u||!n&&1===u)&&(i=2,c=new Array(2)),l=s)),c[0]=i<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=u<<3,5===i&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[s],channelCount:u,codec:"mp4a.40."+i})}}]),e}();t["default"]=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(123),a=function(){function e(t){n(this,e),this._hasTimeStamp=!1;for(var r,i,a,s,l,u,c,d,h=0;;)if(c=this.readUTF(t,h,3),h+=3,"ID3"===c)h+=3,r=127&t[h++],i=127&t[h++],a=127&t[h++],s=127&t[h++],l=(r<<21)+(i<<14)+(a<<7)+s,u=h+l,this._parseID3Frames(t,h,u),h=u;else{if("3DI"!==c)return h-=3,d=h,void(d&&(this.hasTimeStamp||o.logger.warn("ID3 tag found, but no timestamp"),this._length=d,this._payload=t.subarray(0,d)));h+=7,o.logger.log("3DI footer found, end: "+h)}}return i(e,[{key:"readUTF",value:function(e,t,r){var n="",i=t,o=t+r;do n+=String.fromCharCode(e[i++]);while(i<o);return n}},{key:"_parseID3Frames",value:function(e,t,r){for(var n,i,a,s,l;t+8<=r;)switch(n=this.readUTF(e,t,4),t+=4,i=e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],s=e[t++]<<8+e[t++],a=t,n){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var u=1&e[t++];this._hasTimeStamp=!0,l=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,u&&(l+=47721858.84),l=Math.round(l),o.logger.trace("ID3 timestamp found: "+l),this._timeStamp=l}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(137),s=n(a),l=r(119),u=n(l),c=r(140),d=n(c),h=r(123),f=r(120),p=function(){function e(t,r){i(this,e),this.observer=t,this.remuxerClass=r,this.lastCC=0,this.remuxer=new this.remuxerClass(t)}return o(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,nbNalu:0,dropped:0},this._aacTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcNaluState=0,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(e,t,r,n,i,o,a,s){var l,c,d,p,y,v,g,m,_=e.length,b=this.remuxer.passthrough,E=!1;this.audioCodec=t,this.videoCodec=r,this.timeOffset=n,this._duration=s,this.contiguous=!1,i!==this.lastCC&&(h.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),o!==this.lastLevel?(h.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=o):a===this.lastSN+1&&(this.contiguous=!0),this.lastSN=a;var T=this.pmtParsed,w=this._avcTrack.id,k=this._aacTrack.id,S=this._id3Track.id;for(_-=_%188,p=0;p<_;p+=188)if(71===e[p]){if(y=!!(64&e[p+1]),v=((31&e[p+1])<<8)+e[p+2],g=(48&e[p+3])>>4,g>1){if(m=p+5+e[p+4],m===p+188)continue}else m=p+4;if(T)if(v===w){if(y){if(l&&(this._parseAVCPES(this._parsePES(l)),b&&this._avcTrack.codec&&(k===-1||this._aacTrack.codec)))return void this.remux(e);l={data:[],size:0}}l&&(l.data.push(e.subarray(m,p+188)),l.size+=p+188-m)}else if(v===k){if(y){if(c&&(this._parseAACPES(this._parsePES(c)),b&&this._aacTrack.codec&&(w===-1||this._avcTrack.codec)))return void this.remux(e);c={data:[],size:0}}c&&(c.data.push(e.subarray(m,p+188)),c.size+=p+188-m)}else v===S&&(y&&(d&&this._parseID3PES(this._parsePES(d)),d={data:[],size:0}),d&&(d.data.push(e.subarray(m,p+188)),d.size+=p+188-m));else y&&(m+=e[m]+1),0===v?this._parsePAT(e,m):v===this._pmtId?(this._parsePMT(e,m),T=this.pmtParsed=!0,w=this._avcTrack.id,k=this._aacTrack.id,S=this._id3Track.id,E&&(h.logger.log("reparse from beginning"),E=!1,p=-188)):(h.logger.log("unknown PID found before PAT/PMT"),E=!0)}else this.observer.trigger(u["default"].ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});l&&this._parseAVCPES(this._parsePES(l)),c&&this._parseAACPES(this._parsePES(c)),d&&this._parseID3PES(this._parsePES(d)),this.remux(null)}},{key:"remux",value:function(e){this.remuxer.remux(this._aacTrack,this._avcTrack,this._id3Track,this._txtTrack,this.timeOffset,this.contiguous,e)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){this._pmtId=(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t){var r,n,i,o;for(r=(15&e[t+1])<<8|e[t+2],n=t+3+r-4,i=(15&e[t+10])<<8|e[t+11],t+=12+i;t<n;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 15:this._aacTrack.id=o;break;case 21:this._id3Track.id=o;break;case 27:this._avcTrack.id=o;break;default:h.logger.log("unkown stream type:"+e[t])}t+=((15&e[t+3])<<8|e[t+4])+5}}},{key:"_parsePES",value:function(e){var t,r,n,i,o,a,s,l,u,c=0,d=e.data;if(t=d[0],n=(t[0]<<16)+(t[1]<<8)+t[2],1===n){for(i=(t[4]<<8)+t[5],r=t[7],192&r&&(s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,s>4294967295&&(s-=8589934592),64&r?(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,l>4294967295&&(l-=8589934592)):l=s),o=t[8],u=o+9,e.size-=u,a=new Uint8Array(e.size);d.length;){t=d.shift();var h=t.byteLength;if(u){if(u>h){u-=h;continue}t=t.subarray(u),h-=u,u=0}a.set(t,c),c+=h}return{data:a,pts:s,dts:l,len:i}}return null}},{key:"_parseAVCPES",value:function(e){var t,r,n,i,o=this,a=this._avcTrack,s=a.samples,l=this._parseAVCNALu(e.data),u=[],c=!1,f=!1,p=0;if(0===l.length&&s.length>0){var y=s[s.length-1],v=y.units.units[y.units.units.length-1],g=new Uint8Array(v.data.byteLength+e.data.byteLength);g.set(v.data,0),g.set(e.data,v.data.byteLength),v.data=g,y.units.length+=e.data.byteLength,a.len+=e.data.byteLength}e.data=null;var m="",_=function(){u.length&&(f===!0||a.sps&&(s.length||this.contiguous)?(r={units:{units:u,length:p},pts:e.pts,dts:e.dts,key:f},s.push(r),a.len+=p,a.nbNalu+=u.length):a.dropped++,u=[],p=0)}.bind(this);l.forEach(function(r){switch(r.type){case 1:n=!0,c&&(m+="NDR ");break;case 5:n=!0,c&&(m+="IDR "),f=!0;break;case 6:n=!0,c&&(m+="SEI "),t=new d["default"](r.data),t.readUByte();var s=t.readUByte();if(4===s){var l=0;do l=t.readUByte();while(255===l);var h=t.readUByte();if(181===h){var y=t.readUShort();if(49===y){var v=t.readUInt();if(1195456820===v){var g=t.readUByte();if(3===g){var b=t.readUByte(),E=t.readUByte(),T=31&b,w=[b,E];for(i=0;i<T;i++)w.push(t.readUByte()),w.push(t.readUByte()),w.push(t.readUByte());o._txtTrack.samples.push({type:3,pts:e.pts,bytes:w})}}}}}break;case 7:if(n=!0,c&&(m+="SPS "),!a.sps){t=new d["default"](r.data);var k=t.readSPS();a.width=k.width,a.height=k.height,a.sps=[r.data],a.duration=o._duration;var S=r.data.subarray(1,4),C="avc1.";for(i=0;i<3;i++){var O=S[i].toString(16);O.length<2&&(O="0"+O),C+=O}a.codec=C}break;case 8:n=!0,c&&(m+="PPS "),a.pps||(a.pps=[r.data]);break;case 9:n=!1,c&&(m+="AUD "),_();break;default:n=!1,m+="unknown NAL "+r.type+" "}n&&(u.push(r),p+=r.data.byteLength)}),(c||m.length)&&h.logger.log(m),_()}},{key:"_parseAVCNALu",value:function(e){for(var t,r,n,i,o,a,s=0,l=e.byteLength,u=this.avcNaluState,c=[];s<l;)switch(t=e[s++],u){case 0:0===t&&(u=1);break;case 1:u=0===t?2:0;break;case 2:case 3:if(0===t)u=3;else if(1===t&&s<l){if(i=31&e[s],o)n={data:e.subarray(o,s-u-1),type:a},c.push(n);else{var d=this.avcNaluState;if(d&&s<=4-d){var h=this._avcTrack,f=h.samples;if(f.length){var p=f[f.length-1],y=p.units.units,v=y[y.length-1];v.state&&(v.data=v.data.subarray(0,v.data.byteLength-d),p.units.length-=d,h.len-=d)}}if(r=s-u-1,r>0){var g=this._avcTrack,m=g.samples;if(m.length){var _=m[m.length-1],b=_.units.units,E=b[b.length-1],T=new Uint8Array(E.data.byteLength+r);T.set(E.data,0),T.set(e.subarray(0,r),E.data.byteLength),E.data=T,_.units.length+=r,g.len+=r}}}o=s,a=i,u=0}else u=0}return o&&(n={data:e.subarray(o,l),type:a,state:u},c.push(n),this.avcNaluState=u),c}},{key:"_parseAACPES",value:function(e){var t,r,n,i,o,a,l,c,d,p=this._aacTrack,y=e.data,v=e.pts,g=0,m=this._duration,_=this.audioCodec,b=this.aacOverFlow,E=this.aacLastPTS;if(b){var T=new Uint8Array(b.byteLength+y.byteLength);T.set(b,0),T.set(y,b.byteLength),y=T}for(o=g,c=y.length;o<c-1&&(255!==y[o]||240!==(240&y[o+1]));o++);if(o){var w,k;if(o<c-1?(w="AAC PES did not start with ADTS header,offset:"+o,k=!1):(w="no ADTS header found in AAC PES",k=!0),this.observer.trigger(u["default"].ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:k,reason:w}),k)return}if(p.audiosamplerate||(t=s["default"].getAudioConfig(this.observer,y,o,_),p.config=t.config,p.audiosamplerate=t.samplerate,p.channelCount=t.channelCount,p.codec=t.codec,p.duration=m,h.logger.log("parsed codec:"+p.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)),i=0,n=9216e4/p.audiosamplerate,b&&E){var S=E+n;Math.abs(S-v)>1&&(h.logger.log("AAC: align PTS for overlapping frames by "+Math.round((S-v)/90)),v=S)}for(;o+5<c&&(a=1&y[o+1]?7:9,r=(3&y[o+3])<<11|y[o+4]<<3|(224&y[o+5])>>>5,r-=a,r>0&&o+a+r<=c);)for(l=v+i*n,d={unit:y.subarray(o+a,o+a+r),pts:l,dts:l},p.samples.push(d),p.len+=r,o+=r+a,i++;o<c-1&&(255!==y[o]||240!==(240&y[o+1]));o++);b=o<c?y.subarray(o,c):null,this.aacOverFlow=b,this.aacLastPTS=l}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();t["default"]=p},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(123),a=function(){
function e(t){n(this,e),this.data=t,this.bytesAvailable=this.data.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data.byteLength-this.bytesAvailable,t=new Uint8Array(4),r=Math.min(4,this.bytesAvailable);if(0===r)throw new Error("no bytes available");t.set(this.data.subarray(e,e+r)),this.word=new DataView(t.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&o.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r,n=8,i=8;for(t=0;t<e;t++)0!==i&&(r=this.readEG(),i=(n+r+256)%256),n=0===i?n:i}},{key:"readSPS",value:function(){var e,t,r,n,i,o,a,s,l,u=0,c=0,d=0,h=0,f=1;if(this.readUByte(),e=this.readUByte(),t=this.readBits(5),this.skipBits(3),r=this.readUByte(),this.skipUEG(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var p=this.readUEG();if(3===p&&this.skipBits(1),this.skipUEG(),this.skipUEG(),this.skipBits(1),this.readBoolean())for(s=3!==p?8:12,l=0;l<s;l++)this.readBoolean()&&(l<6?this.skipScalingList(16):this.skipScalingList(64))}this.skipUEG();var y=this.readUEG();if(0===y)this.readUEG();else if(1===y)for(this.skipBits(1),this.skipEG(),this.skipEG(),n=this.readUEG(),l=0;l<n;l++)this.skipEG();if(this.skipUEG(),this.skipBits(1),i=this.readUEG(),o=this.readUEG(),a=this.readBits(1),0===a&&this.skipBits(1),this.skipBits(1),this.readBoolean()&&(u=this.readUEG(),c=this.readUEG(),d=this.readUEG(),h=this.readUEG()),this.readBoolean()&&this.readBoolean()){var v=void 0,g=this.readUByte();switch(g){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[this.readUByte()<<8|this.readUByte(),this.readUByte()<<8|this.readUByte()]}v&&(f=v[0]/v[1])}return{width:Math.ceil((16*(i+1)-2*u-2*c)*f),height:(2-a)*(o+1)*16-(a?2:4)*(d+h)}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(119),s=n(a),l=r(123),u=r(142),c=n(u),d=r(120),h=function(){function e(t){i(this,e),this.observer=t,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return o(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,n,i,o){this.ISGenerated||this.generateIS(e,t,i),this.ISGenerated&&(t.samples.length&&this.remuxVideo(t,i,o),e.samples.length&&this.remuxAudio(e,i,o)),r.samples.length&&this.remuxID3(r,i),n.samples.length&&this.remuxText(n,i),this.observer.trigger(s["default"].FRAG_PARSED)}},{key:"generateIS",value:function(e,t,r){var n,i,o=this.observer,a=e.samples,u=t.samples,h=this.PES_TIMESCALE,f={},p={tracks:f,unique:!1},y=void 0===this._initPTS;y&&(n=i=1/0),e.config&&a.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&!function(){var t=function r(e,t){return t?r(t,e%t):e};e.timescale=e.audiosamplerate/t(e.audiosamplerate,1024)}(),l.logger.log("audio mp4 timescale :"+e.timescale),f.audio={container:"audio/mp4",codec:e.codec,initSegment:c["default"].initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(n=i=a[0].pts-h*r)),t.sps&&t.pps&&u.length&&(t.timescale=this.MP4_TIMESCALE,f.video={container:"video/mp4",codec:t.codec,initSegment:c["default"].initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(n=Math.min(n,u[0].pts-h*r),i=Math.min(i,u[0].dts-h*r))),Object.keys(f).length?(o.trigger(s["default"].FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,y&&(this._initPTS=n,this._initDTS=i)):o.trigger(s["default"].ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,r){var n,i,o,a,u,d,h,f,p,y,v,g,m,_,b,E=8,T=this.PES_TIMESCALE,w=this.PES2MP4SCALEFACTOR,k=[],S=e.samples.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);for(S<0&&l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue"),d=new Uint8Array(e.len+4*e.nbNalu+8),n=new DataView(d.buffer),n.setUint32(0,d.byteLength),d.set(c["default"].types.mdat,4);e.samples.length;){for(i=e.samples.shift(),a=0;i.units.units.length;)u=i.units.units.shift(),n.setUint32(E,u.data.byteLength),E+=4,d.set(u.data,E),E+=u.data.byteLength,a+=4+u.data.byteLength;if(v=i.pts-this._initDTS,g=i.dts-this._initDTS+S,g=Math.min(v,g),void 0!==y){m=this._PTSNormalize(v,y),_=this._PTSNormalize(g,y);var C=(_-y)/w;C<=0&&(l.logger.log("invalid sample duration at PTS/DTS: "+i.pts+"/"+i.dts+":"+C),C=1),o.duration=C}else{var O=void 0,A=void 0;O=r?this.nextAvcDts:t*T,m=this._PTSNormalize(v,O),_=this._PTSNormalize(g,O),A=Math.round((_-O)/90),r&&A&&(A>1?l.logger.log("AVC:"+A+" ms hole between fragments detected,filling it"):A<-1&&l.logger.log("AVC:"+-A+" ms overlapping between fragments detected"),_=O,m=Math.max(m-A,_),l.logger.log("Video/PTS/DTS adjusted: "+m+"/"+_+",delta:"+A)),f=Math.max(0,m),p=Math.max(0,_)}o={size:a,duration:0,cts:(m-_)/w,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0}},b=o.flags,i.key===!0?(b.dependsOn=2,b.isNonSync=0):(b.dependsOn=1,b.isNonSync=1),k.push(o),y=_}var R=0;k.length>=2&&(R=k[k.length-2].duration,o.duration=R),this.nextAvcDts=_+R*w;var P=e.dropped;e.len=0,e.nbNalu=0,e.dropped=0,k.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(b=k[0].flags,b.dependsOn=2,b.isNonSync=0),e.samples=k,h=c["default"].moof(e.sequenceNumber++,p/w,e),e.samples=[],this.observer.trigger(s["default"].FRAG_PARSING_DATA,{data1:h,data2:d,startPTS:f/T,endPTS:(m+w*R)/T,startDTS:p/T,endDTS:this.nextAvcDts/T,type:"video",nb:k.length,dropped:P})}},{key:"remuxAudio",value:function(e,t,r){var n,i,o,a,u,d,h,f,p,y,v,g,m,_=8,b=this.PES_TIMESCALE,E=e.timescale,T=b/E,w=1024*e.timescale/e.audiosamplerate,k=[],S=[];for(e.samples.sort(function(e,t){return e.pts-t.pts}),S=e.samples;S.length;){if(i=S.shift(),a=i.unit,y=i.pts-this._initDTS,v=i.dts-this._initDTS,void 0!==p)g=this._PTSNormalize(y,p),m=this._PTSNormalize(v,p),o.duration=(m-p)/T,Math.abs(o.duration-w)>w/10&&l.logger.log("invalid AAC sample duration at PTS "+Math.round(y/90)+",should be 1024,found :"+Math.round(o.duration*e.audiosamplerate/e.timescale)),o.duration=w,g=m=w*T+p;else{var C=void 0,O=void 0;if(C=r?this.nextAacPts:t*b,g=this._PTSNormalize(y,C),m=this._PTSNormalize(v,C),O=Math.round(1e3*(g-C)/b),r&&O){if(O>0)l.logger.log(O+" ms hole between AAC samples detected,filling it");else if(O<-12){l.logger.log(-O+" ms overlapping between AAC samples detected, drop frame"),e.len-=a.byteLength;continue}g=m=C}if(h=Math.max(0,g),f=Math.max(0,m),!(e.len>0))return;u=new Uint8Array(e.len+8),n=new DataView(u.buffer),n.setUint32(0,u.byteLength),u.set(c["default"].types.mdat,4)}u.set(a,_),_+=a.byteLength,o={size:a.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},k.push(o),p=m}var A=0,R=k.length;R>=2&&(A=k[R-2].duration,o.duration=A),R&&(this.nextAacPts=g+T*A,e.len=0,e.samples=k,d=c["default"].moof(e.sequenceNumber++,f/T,e),e.samples=[],this.observer.trigger(s["default"].FRAG_PARSING_DATA,{data1:d,data2:u,startPTS:h/b,endPTS:this.nextAacPts/b,startDTS:f/b,endDTS:(m+T*A)/b,type:"audio",nb:R}))}},{key:"remuxID3",value:function(e,t){var r,n=e.samples.length;if(n){for(var i=0;i<n;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(s["default"].FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,n=e.samples.length;if(n){for(var i=0;i<n;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(s["default"].FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}},{key:"passthrough",get:function(){return!1}}]),e}();t["default"]=h},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e)}return n(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,o=i;i--;)n+=r[i].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<o;i++)t.set(r[i],n),n+=r[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))}},{key:"moov",value:function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,r){r*=t;var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,n,i,o=[],a=[];for(r=0;r<t.sps.length;r++)n=t.sps[r],i=n.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)n=t.pps[r],i=n.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),l=t.width,u=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"stsd",value:function(t){return"audio"===t.type?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,o=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,r){var n=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var n,i,o,a,s,l,u=t.samples||[],c=u.length,d=12+16*c,h=new Uint8Array(d);for(r+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)i=u[n],o=i.duration,a=i.size,s=i.flags,l=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t){e.types||e.init();var r,n=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+n.byteLength),r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(119),s=n(a),l=function(){function e(t){i(this,e),this.observer=t,this.ISGenerated=!1}return o(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,n,i,o){var a=this.observer;if(!this.ISGenerated){var l={},u={tracks:l,unique:!0},c=t,d=c.codec;d&&(u.tracks.video={container:c.container,codec:d,metadata:{width:c.width,height:c.height}}),c=e,d=c.codec,d&&(u.tracks.audio={container:c.container,codec:d,metadata:{channelCount:c.channelCount}}),this.ISGenerated=!0,a.trigger(s["default"].FRAG_PARSING_INIT_SEGMENT,u)}a.trigger(s["default"].FRAG_PARSING_DATA,{data1:o,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}();t["default"]=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(135),o=n(i),a=r(119),s=n(a),l=r(145),u=n(l),c=function(e){var t=new u["default"];t.trigger=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))},e.addEventListener("message",function(r){var n=r.data;switch(n.cmd){case"init":e.demuxer=new o["default"](t,n.typeSupported),e.postMessage({event:"init"});break;case"demux":e.demuxer.push(new Uint8Array(n.data),n.audioCodec,n.videoCodec,n.timeOffset,n.cc,n.level,n.sn,n.duration)}}),t.on(s["default"].FRAG_PARSING_INIT_SEGMENT,function(t,r){e.postMessage({event:t,tracks:r.tracks,unique:r.unique})}),t.on(s["default"].FRAG_PARSING_DATA,function(t,r){var n={event:t,type:r.type,startPTS:r.startPTS,endPTS:r.endPTS,startDTS:r.startDTS,endDTS:r.endDTS,data1:r.data1.buffer,data2:r.data2.buffer,nb:r.nb,dropped:r.dropped};e.postMessage(n,[n.data1,n.data2])}),t.on(s["default"].FRAG_PARSED,function(t){e.postMessage({event:t})}),t.on(s["default"].ERROR,function(t,r){e.postMessage({event:t,data:r})}),t.on(s["default"].FRAG_PARSING_METADATA,function(t,r){var n={event:t,samples:r.samples};e.postMessage(n)}),t.on(s["default"].FRAG_PARSING_USERDATA,function(t,r){var n={event:t,samples:r.samples};e.postMessage(n)})};t["default"]=c},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(147),s=n(a),l=r(120),u=r(123),c=function(){function e(t){i(this,e),this.hls=t;try{var r=window?window.crypto:crypto;this.subtle=r.subtle||r.webkitSubtle,this.disableWebCrypto=!this.subtle}catch(n){this.disableWebCrypto=!0}}return o(e,[{key:"destroy",value:function(){}},{key:"decrypt",value:function(e,t,r,n){this.disableWebCrypto&&this.hls.config.enableSoftwareAES?this.decryptBySoftware(e,t,r,n):this.decryptByWebCrypto(e,t,r,n)}},{key:"decryptByWebCrypto",value:function(e,t,r,n){var i=this;u.logger.log("decrypting by WebCrypto API"),this.subtle.importKey("raw",t,{name:"AES-CBC",length:128},!1,["decrypt"]).then(function(o){i.subtle.decrypt({name:"AES-CBC",iv:r.buffer},o,e).then(n)["catch"](function(o){i.onWebCryptoError(o,e,t,r,n)})})["catch"](function(o){i.onWebCryptoError(o,e,t,r,n)})}},{key:"decryptBySoftware",value:function(e,t,r,n){u.logger.log("decrypting by JavaScript Implementation");var i=new DataView(t.buffer),o=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]);i=new DataView(r.buffer);var a=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]),l=new s["default"](o,a);n(l.decrypt(e).buffer)}},{key:"onWebCryptoError",value:function(e,t,r,n,i){this.hls.config.enableSoftwareAES?(u.logger.log("disabling to use WebCrypto API"),this.disableWebCrypto=!0,this.decryptBySoftware(t,r,n,i)):(u.logger.error("decrypting error : "+e.message),this.hls.trigger(Event.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}}]),e}();t["default"]=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(148),s=n(a),l=function(){function e(t,r){i(this,e),this.key=t,this.iv=r}return o(e,[{key:"ntoh",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"doDecrypt",value:function(e,t,r){var n,i,o,a,l,u,c,d,h,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),p=new s["default"](Array.prototype.slice.call(t)),y=new Uint8Array(e.byteLength),v=new Int32Array(y.buffer);for(n=~~r[0],i=~~r[1],o=~~r[2],a=~~r[3],h=0;h<f.length;h+=4)l=~~this.ntoh(f[h]),u=~~this.ntoh(f[h+1]),c=~~this.ntoh(f[h+2]),d=~~this.ntoh(f[h+3]),p.decrypt(l,u,c,d,v,h),v[h]=this.ntoh(v[h]^n),v[h+1]=this.ntoh(v[h+1]^i),v[h+2]=this.ntoh(v[h+2]^o),v[h+3]=this.ntoh(v[h+3]^a),n=l,i=u,o=c,a=d;return y}},{key:"localDecrypt",value:function(e,t,r,n){var i=this.doDecrypt(e,t,r);n.set(i,e.byteOffset)}},{key:"decrypt",value:function(e){var t=32e3,r=new Int32Array(e),n=new Uint8Array(e.byteLength),i=0,o=this.key,a=this.iv;for(this.localDecrypt(r.subarray(i,i+t),o,a,n),i=t;i<r.length;i+=t)a=new Uint32Array([this.ntoh(r[i-4]),this.ntoh(r[i-3]),this.ntoh(r[i-2]),this.ntoh(r[i-1])]),this.localDecrypt(r.subarray(i,i+t),o,a,n);return n}}]),e}();t["default"]=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){r(this,e),this._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],this._precompute();var n,i,o,a,s,l=this._tables[0][4],u=this._tables[1],c=t.length,d=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size="+c);for(a=t.slice(0),s=[],this._key=[a,s],n=c;n<4*c+28;n++)o=a[n-1],(n%c===0||8===c&&n%c===4)&&(o=l[o>>>24]<<24^l[o>>16&255]<<16^l[o>>8&255]<<8^l[255&o],n%c===0&&(o=o<<8^o>>>24^d<<24,d=d<<1^283*(d>>7))),a[n]=a[n-c]^o;for(i=0;n;i++,n--)o=a[3&i?n:n-4],n<=4||i<4?s[i]=o:s[i]=u[0][l[o>>>24]]^u[1][l[o>>16&255]]^u[2][l[o>>8&255]]^u[3][l[255&o]]}return n(e,[{key:"_precompute",value:function(){var e,t,r,n,i,o,a,s,l,u=this._tables[0],c=this._tables[1],d=u[4],h=c[4],f=[],p=[];for(e=0;e<256;e++)p[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!d[t];t^=n||1,r=p[r]||1)for(a=r^r<<1^r<<2^r<<3^r<<4,a=a>>8^255&a^99,d[t]=a,h[a]=t,o=f[i=f[n=f[t]]],l=16843009*o^65537*i^257*n^16843008*t,s=257*f[a]^16843008*a,e=0;e<4;e++)u[e][t]=s=s<<24^s>>>8,c[e][a]=l=l<<24^l>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)}},{key:"decrypt",value:function(e,t,r,n,i,o){var a,s,l,u,c=this._key[1],d=e^c[0],h=n^c[1],f=r^c[2],p=t^c[3],y=c.length/4-2,v=4,g=this._tables[1],m=g[0],_=g[1],b=g[2],E=g[3],T=g[4];for(u=0;u<y;u++)a=m[d>>>24]^_[h>>16&255]^b[f>>8&255]^E[255&p]^c[v],s=m[h>>>24]^_[f>>16&255]^b[p>>8&255]^E[255&d]^c[v+1],l=m[f>>>24]^_[p>>16&255]^b[d>>8&255]^E[255&h]^c[v+2],p=m[p>>>24]^_[d>>16&255]^b[h>>8&255]^E[255&f]^c[v+3],v+=4,d=a,h=s,f=l;for(u=0;u<4;u++)i[(3&-u)+o]=T[d>>>24]<<24^T[h>>16&255]<<16^T[f>>8&255]<<8^T[255&p]^c[v++],a=d,d=h,h=f,f=p,p=a}}]),e}();t["default"]=i},function(e,t){var r=arguments[3],n=arguments[4],i=arguments[5],o=JSON.stringify;e.exports=function(e,t){function a(e){v[e]=!0;for(var t in n[e][1]){var r=n[e][1][t];v[r]||a(r)}}for(var s,l=Object.keys(i),u=0,c=l.length;u<c;u++){var d=l[u],h=i[d].exports;if(h===e||h&&h["default"]===e){s=d;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},u=0,c=l.length;u<c;u++){var d=l[u];f[d]=d}n[s]=[Function(["require","module","exports"],"("+e+")(self)"),f]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),y={};y[s]=s,n[p]=[Function(["require"],"var f = require("+o(s)+");(f.default ? f.default : f)(self);"),y];var v={};a(p);var g="("+r+")({"+Object.keys(v).map(function(e){return o(e)+":["+n[e][0]+","+o(n[e][1])+"]"}).join(",")+"},{},["+o(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return _;var b=m.createObjectURL(_),E=new Worker(b);return E.objectURL=b,E}},function(e,t){"use strict";var r={search:function(e,t){for(var r=0,n=e.length-1,i=null,o=null;r<=n;){i=(r+n)/2|0,o=e[i];var a=t(o);if(a>0)r=i+1;else{if(!(a<0))return o;n=i-1}}return null}};e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(123),a=function(){function e(){n(this,e)}return i(e,null,[{key:"mergeDetails",value:function(t,r){var n,i=Math.max(t.startSN,r.startSN)-r.startSN,a=Math.min(t.endSN,r.endSN)-r.startSN,s=r.startSN-t.startSN,l=t.fragments,u=r.fragments,c=0;if(a<i)return void(r.PTSKnown=!1);for(var d=i;d<=a;d++){var h=l[s+d],f=u[d];f&&h&&(c=h.cc-f.cc,isNaN(h.startPTS)||(f.start=f.startPTS=h.startPTS,f.endPTS=h.endPTS,f.duration=h.duration,n=f))}if(c)for(o.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=c;if(n)e.updateFragPTSDTS(r,n.sn,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(s>=0&&s<l.length){var p=l[s].start;for(d=0;d<u.length;d++)u[d].start+=p}r.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,r,n,i,o,a){var s,l,u,c;if(r<t.startSN||r>t.endSN)return 0;if(s=r-t.startSN,l=t.fragments,u=l[s],!isNaN(u.startPTS)){var d=Math.abs(u.startPTS-n);isNaN(u.deltaPTS)?u.deltaPTS=d:u.deltaPTS=Math.max(d,u.deltaPTS),n=Math.min(n,u.startPTS),i=Math.max(i,u.endPTS),o=Math.min(o,u.startDTS),a=Math.max(a,u.endDTS)}var h=n-u.start;for(u.start=u.startPTS=n,u.endPTS=i,u.startDTS=o,u.endDTS=a,u.duration=i-n,c=s;c>0;c--)e.updatePTS(l,c,c-1);for(c=s;c<l.length-1;c++)e.updatePTS(l,c,c+1);return t.PTSKnown=!0,h}},{key:"updatePTS",value:function(e,t,r){var n=e[t],i=e[r],a=i.startPTS;isNaN(a)?r>t?i.start=n.start+n.duration:i.start=n.start-i.duration:r>t?(n.duration=a-n.start,n.duration<0&&o.logger.error("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-a,
i.duration<0&&o.logger.error("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(123),f=r(120),p=r(128),y=n(p),v=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,u["default"].MANIFEST_LOADED,u["default"].LEVEL_LOADED,u["default"].ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=r._autoLevelCapping=-1,r}return a(t,e),s(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,r,n=[],i=[],o={},a=!1,s=!1,l=this.hls;if(e.levels.forEach(function(e){e.videoCodec&&(a=!0),e.audioCodec&&(s=!0);var t=o[e.bitrate];void 0===t?(o[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)}),a&&s?n.forEach(function(e){e.videoCodec&&i.push(e)}):i=n,i=i.filter(function(e){var t=function(e){return MediaSource.isTypeSupported("audio/mp4;codecs="+e)},r=function(e){return MediaSource.isTypeSupported("video/mp4;codecs="+e)},n=e.audioCodec,i=e.videoCodec;return(!n||t(n))&&(!i||r(i))}),i.length){for(t=i[0].bitrate,i.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=i,r=0;r<i.length;r++)if(i[r].bitrate===t){this._firstLevel=r,h.logger.log("manifest loaded,"+i.length+" level(s) found, first bitrate:"+t);break}l.trigger(u["default"].MANIFEST_PARSED,{levels:this._levels,firstLevel:this._firstLevel,stats:e.stats})}else l.trigger(u["default"].ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&e<t.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(h.logger.log("switching to level "+e),this._level=e),this.hls.trigger(u["default"].LEVEL_SWITCH,{level:e});var r=t[e],n=r.details;if(!n||n.live===!0&&performance.now()-n.tload>1e3){var i=r.urlId;this.hls.trigger(u["default"].LEVEL_LOADING,{url:r.url[i],level:e,id:i})}}else this.hls.trigger(u["default"].ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,r=this.hls,n=void 0,i=void 0,o=!1;switch(t){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:n=e.frag.level;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:n=e.level,o=!0}if(void 0!==n)if(i=this._levels[n],i.urlId<i.url.length-1)i.urlId++,i.details=void 0,h.logger.warn("level controller,"+t+" for level "+n+": switching to redundant stream id "+i.urlId);else{var a=this._manualLevel===-1&&n;if(a)h.logger.warn("level controller,"+t+": switch-down for next fragment"),r.nextLoadLevel=n-1;else if(i&&i.details&&i.details.live)h.logger.warn("level controller,"+t+" on live stream, discard"),o&&(this._level=void 0);else if(t===f.ErrorDetails.LEVEL_LOAD_ERROR||t===f.ErrorDetails.LEVEL_LOAD_TIMEOUT){var s=this.hls,l=s.media,c=l&&y["default"].isBuffered(l,l.currentTime)&&y["default"].isBuffered(l,l.currentTime+.4);if(c){var d=s.config.levelLoadingRetryDelay;h.logger.warn("level controller,"+t+", but media buffered, retry in "+d+"ms"),this.timer=setTimeout(this.ontick,d)}else h.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,s.trigger(u["default"].ERROR,e)}}}}},{key:"onLevelLoaded",value:function(e){if(e.level===this._level){var t=e.details;if(t.live){var r=1e3*t.targetduration,n=this._levels[e.level],i=n.details;i&&t.endSN===i.endSN&&(r/=2,h.logger.log("same live playlist, reload twice faster")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),h.logger.log("live playlist, reload in "+r+" ms"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],r=t.urlId;this.hls.trigger(u["default"].LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),e!==-1&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){return void 0===this._startLevel?this._firstLevel:this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,this._manualLevel===-1&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(d["default"]);t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(154),f=n(h),p=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,u["default"].MEDIA_ATTACHING,u["default"].MEDIA_DETACHING,u["default"].FRAG_PARSING_USERDATA,u["default"].MANIFEST_LOADING,u["default"].FRAG_LOADED));return r.hls=e,r.config=e.config,r.config.enableCEA708Captions&&(r.cea708Interpreter=new f["default"]),r}return a(t,e),s(t,[{key:"destroy",value:function(){d["default"].prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;this.cea708Interpreter.attach(t)}},{key:"onMediaDetaching",value:function(){this.cea708Interpreter.detach()}},{key:"onManifestLoading",value:function(){this.lastPts=Number.POSITIVE_INFINITY}},{key:"onFragLoaded",value:function(e){var t=e.frag.start;t<=this.lastPts&&this.cea708Interpreter.clear(),this.lastPts=t}},{key:"onFragParsingUserdata",value:function(e){for(var t=0;t<e.samples.length;t++)this.cea708Interpreter.push(e.samples[t].pts,e.samples[t].bytes)}}]),t}(d["default"]);t["default"]=p},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e)}return n(e,[{key:"attach",value:function(e){this.media=e,this.display=[],this.memory=[]}},{key:"detach",value:function(){this.clear()}},{key:"destroy",value:function(){}},{key:"_createCue",value:function(){var e=window.VTTCue||window.TextTrackCue,t=this.cue=new e((-1),(-1),"");t.text="",t.pauseOnExit=!1,t.startTime=Number.MAX_VALUE,t.endTime=Number.MAX_VALUE,this.memory.push(t)}},{key:"clear",value:function(){var e=this._textTrack;if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:"push",value:function(e,t){this.cue||this._createCue();for(var r,n,i,o,a,s=31&t[0],l=2,u=0;u<s;u++)if(r=t[l++],n=127&t[l++],i=127&t[l++],o=0!==(4&r),a=3&r,(0!==n||0!==i)&&o&&0===a){if(32&n||64&n)this.cue.text+=this._fromCharCode(n)+this._fromCharCode(i);else if((17===n||25===n)&&i>=48&&i<=63)switch(i){case 48:this.cue.text+="®";break;case 49:this.cue.text+="°";break;case 50:this.cue.text+="½";break;case 51:this.cue.text+="¿";break;case 52:this.cue.text+="™";break;case 53:this.cue.text+="¢";break;case 54:this.cue.text+="";break;case 55:this.cue.text+="£";break;case 56:this.cue.text+="♪";break;case 57:this.cue.text+=" ";break;case 58:this.cue.text+="è";break;case 59:this.cue.text+="â";break;case 60:this.cue.text+="ê";break;case 61:this.cue.text+="î";break;case 62:this.cue.text+="ô";break;case 63:this.cue.text+="û"}if((17===n||25===n)&&i>=32&&i<=47)switch(i){case 32:break;case 33:break;case 34:break;case 35:break;case 36:break;case 37:break;case 38:break;case 39:break;case 40:break;case 41:break;case 42:break;case 43:break;case 44:break;case 45:break;case 46:break;case 47:}if((20===n||28===n)&&i>=32&&i<=47)switch(i){case 32:this._clearActiveCues(e);break;case 33:this.cue.text=this.cue.text.substr(0,this.cue.text.length-1);break;case 34:break;case 35:break;case 36:break;case 37:break;case 38:break;case 39:break;case 40:break;case 41:this._clearActiveCues(e);break;case 42:break;case 43:break;case 44:this._clearActiveCues(e);break;case 45:break;case 46:this._text="";break;case 47:this._flipMemory(e)}if((23===n||31===n)&&i>=33&&i<=35)switch(i){case 33:break;case 34:break;case 35:}}}},{key:"_fromCharCode",value:function(e){switch(e){case 42:return"á";case 2:return"á";case 2:return"é";case 4:return"í";case 5:return"ó";case 6:return"ú";case 3:return"ç";case 4:return"÷";case 5:return"Ñ";case 6:return"ñ";case 7:return"█";default:return String.fromCharCode(e)}}},{key:"_flipMemory",value:function(e){this._clearActiveCues(e),this._flushCaptions(e)}},{key:"_flushCaptions",value:function(e){this._has708||(this._textTrack=this.media.addTextTrack("captions","English","en"),this._has708=!0);var t=!0,r=!1,n=void 0;try{for(var i,o=this.memory[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.startTime=e,this._textTrack.addCue(a),this.display.push(a)}}catch(s){r=!0,n=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}this.memory=[],this.cue=null}},{key:"_clearActiveCues",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=this.display[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.endTime=e}}catch(s){r=!0,n=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}this.display=[]}},{key:"_clearBufferedCues",value:function(){}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(123),a=function(){function e(t){n(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader,t=this.timeoutHandle;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),t&&window.clearTimeout(t)}},{key:"load",value:function(e,t,r,n,i,o,a,s){var l=arguments.length<=8||void 0===arguments[8]?null:arguments[8],u=arguments.length<=9||void 0===arguments[9]?null:arguments[9];this.url=e,!u||isNaN(u.byteRangeStartOffset)||isNaN(u.byteRangeEndOffset)||(this.byteRange=u.byteRangeStartOffset+"-"+(u.byteRangeEndOffset-1)),this.responseType=t,this.onSuccess=r,this.onProgress=l,this.onTimeout=i,this.onError=n,this.stats={trequest:performance.now(),retry:0},this.timeout=o,this.maxRetry=a,this.retryDelay=s,this.loadInternal()}},{key:"loadInternal",value:function(){var e;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",this.url,!0),this.byteRange&&e.setRequestHeader("Range","bytes="+this.byteRange),e.responseType=this.responseType;var t=this.stats;t.tfirst=0,t.loaded=0,this.xhrSetup&&this.xhrSetup(e,this.url),this.timeoutHandle=window.setTimeout(this.loadtimeout.bind(this),this.timeout/2),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,r=t.readyState,n=this.stats;if(!n.aborted&&r>=2&&(0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest),window.clearTimeout(this.timeoutHandle),this.timeoutHandle=window.setTimeout(this.loadtimeout.bind(this),this.timeout-(n.tfirst-n.trequest))),4===r)){var i=t.status;i>=200&&i<300?(window.clearTimeout(this.timeoutHandle),n.tload=Math.max(n.tfirst,performance.now()),this.onSuccess(e,n)):n.retry>=this.maxRetry||i>=400&&i<499?(window.clearTimeout(this.timeoutHandle),o.logger.error(i+" while loading "+this.url),this.onError(e)):(o.logger.warn(i+" while loading "+this.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.timeoutHandle=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,64e3),n.retry++)}}},{key:"loadtimeout",value:function(e){o.logger.warn("timeout while loading "+this.url),this.onTimeout(e,this.stats)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,this.onProgress&&this.onProgress(e,t)}}]),e}();t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(119),u=n(l),c=r(122),d=n(c),h=r(120),f=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,u["default"].KEY_LOADING));return r.decryptkey=null,r.decrypturl=null,r}return a(t,e),s(t,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null),d["default"].prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=this.frag=e.frag,r=t.decryptdata,n=r.uri;if(n!==this.decrypturl||null===this.decryptkey){var i=this.hls.config;t.loader=this.loader=new i.loader(i),this.decrypturl=n,this.decryptkey=null,t.loader.load(n,"arraybuffer",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),i.fragLoadingTimeOut,i.fragLoadingMaxRetry,i.fragLoadingRetryDelay,this.loadprogress.bind(this),t)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(u["default"].KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e){var t=this.frag;this.decryptkey=t.decryptdata.key=new Uint8Array(e.currentTarget.response),t.loader=void 0,this.hls.trigger(u["default"].KEY_LOADED,{frag:t})}},{key:"loaderror",value:function(e){this.loader&&this.loader.abort(),this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:this.frag,response:e})}},{key:"loadtimeout",value:function(){this.loader&&this.loader.abort(),this.hls.trigger(u["default"].ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:this.frag})}},{key:"loadprogress",value:function(){}}]),t}(d["default"]);t["default"]=f},function(e,t,r){r(158);var n=function(e,t,r){function n(e,t){function n(){var e=t.options_.hlsjsConfig||{};u=new r(e),u.on(r.Events.ERROR,function(e,r){s(e,r,t,d)}),u.on(r.Events.MANIFEST_PARSED,l),u.on(r.Events.LEVEL_LOADED,function(e,t){h=t.details.live?1/0:t.details.totalduration}),u.attachMedia(c)}function i(e){u.loadSource(e.src)}function o(e,t){u.nextLevel=e}function a(){1===d[r.ErrorTypes.MEDIA_ERROR]?(console.info("trying to recover media error"),u.recoverMediaError()):2===d[r.ErrorTypes.MEDIA_ERROR]?(console.info("2nd try to recover media error (by swapping audio codec"),u.swapAudioCodec(),u.recoverMediaError()):d[r.ErrorTypes.MEDIA_ERROR]>2&&(console.info("bubbling media error up to VIDEOJS"),error.code=3,t.error=function(){return error},t.trigger("error"))}function s(e,n){var i={message:"HLS.js error: "+n.type+" - fatal: "+n.fatal+" - "+n.details};if(console.error(i.message),d[n.type]?d[n.type]+=1:d[n.type]=1,n.fatal)switch(n.type){case r.ErrorTypes.NETWORK_ERROR:console.info("bubbling network error up to VIDEOJS"),i.code=2,t.error=function(){return i},t.trigger("error");break;case r.ErrorTypes.MEDIA_ERROR:a();break;default:u.destroy(),console.info("bubbling error up to VIDEOJS"),t.error=function(){return i},t.trigger("error")}}function l(e,r){function n(e){return e.height?e.height+"p":e.width?Math.round(9*e.width/16)+"p":e.bitrate?e.bitrate/1e3+"kbps":0}var i=[];if(r.levels.length>1){var a={id:-1,label:"auto",selected:-1===u.manualLevel};i.push(a)}r.levels.forEach(function(e,t){var r={};r.id=t,r.selected=t===u.manualLevel,r.label=n(e),i.push(r)});var s={qualityData:{video:i},qualitySwitchCallback:o};t.trigger("loadedqualitydata",s)}t.name_="streamrootHLS";var u,c=t.el(),d={},h=null;c.addEventListener("error",function(e){var t,r=e.currentTarget.error;switch(r.code){case r.MEDIA_ERR_ABORTED:t="You aborted the video playback";break;case r.MEDIA_ERR_DECODE:t="The video playback was aborted due to a corruption problem or because the video used features your browser did not support",a();break;case r.MEDIA_ERR_NETWORK:t="A network error caused the video download to fail part-way";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:t="The video could not be loaded, either because the server or network failed or because the format is not supported"}console.error("MEDIA_ERROR: ",t)}),this.duration=function(){return h||c.duration||0},this.dispose=function(){u.destroy()},n(),i(e)}r.isSupported()?t.getComponent("Html5").registerSourceHandler({canHandleSource:function(e){var t,r=/^application\/x-mpegURL$/i,n=/\.m3u8/i;return t=r.test(e.type)?"probably":n.test(e.src)?"maybe":""},handleSource:function(e,t){return t.hlsProvider&&t.hlsProvider.dispose(),t.hlsProvider=new n(e,t),t.hlsProvider}},0):console.error("Hls.js is not supported in this browser!"),t.StreamrootProviderHLS=n};e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n=t.qualityData,s=t.qualitySwitchCallback,l=r.controlBar.getChild("fullscreenToggle");r.controlBar.removeChild(l);for(var u=0;u<i.length;u++){var c=i[u],d=c+"PickerButton",h=r.controlBar.getChild(d);h&&(h.dispose(),r.controlBar.removeChild(h)),n[c]&&n[c].length>1&&(h=new a["default"](r,{name:d,qualityList:n[c],qualitySwitchCallback:s,trackType:c}),h.addClass(o[c]),r.controlBar.addChild(h))}l&&r.controlBar.addChild(l)}var r=this,n=this.tech_,i=["video","audio","subtitle"],o={video:"vjs-icon-hd",audio:"vjs-icon-cog",subtitle:"vjs-icon-subtitles"};n.on("loadedqualitydata",t)}var o=r(159),a=n(o);videojs.plugin("qualityPickerPlugin",i)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(160),c=n(u),d=r(161),h=n(d),f=videojs.getComponent("MenuButton"),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"createMenu",value:function(){for(var e,t,r=new c["default"](this.player,this.options_),n=0;n<this.options_.qualityList.length;n++){var i=this.options_.qualityList[n],o=this.options_,a=o.qualitySwitchCallback,l=o.trackType;t=s({qualitySwitchCallback:a,trackType:l},i,{selectable:!0}),e=new h["default"](this.player,t),r.addItem(e)}return r}}]),t}(f);t["default"]=p},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function u(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:u(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},s=videojs.getComponent("Menu"),l=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"addItem",value:function(e){var r=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addItem",this).call(this,e),e.on("click",function(){for(var t=r.children(),n=0;n<t.length;n++){var i=t[n];e!==i&&i.selected(!1)}})}}]),t}(s);t["default"]=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function u(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:u(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},s=videojs.getComponent("MenuItem"),l=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"handleClick",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this),this.options_.qualitySwitchCallback(this.options_.id,this.options_.trackType)}}]),t}(s);t["default"]=l}])});
//# sourceMappingURL=wjplayer-hls-js.min.js.map